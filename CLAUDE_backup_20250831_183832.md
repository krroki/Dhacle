# ğŸ“‹ Claude AI ì‘ì—… ë„¤ë¹„ê²Œì´í„°

*ë””í•˜í´(Dhacle) í”„ë¡œì íŠ¸ AI ì‘ì—… ì§€ì¹¨ - ì‘ì—… ìœ„ì¹˜ë³„ ìƒì„¸ ê°€ì´ë“œ ì œê³µ*

---

## ğŸ›‘ STOP & ACT ê·œì¹™ (ì„ì‹œë°©í¸ = í”„ë¡œì íŠ¸ íŒŒê´´)

### âš ï¸ ì ˆëŒ€ ê·œì¹™ - ìœ„ë°˜ ì‹œ ì‘ì—… ì¦‰ì‹œ ì¤‘ë‹¨
**"ëŒ€ì¶© ì²˜ë¦¬ = 2ì£¼ê°„ ì—ëŸ¬ ë””ë²„ê¹…"**

#### ğŸ”´ ì¦‰ì‹œ ì¤‘ë‹¨ ì‹ í˜¸
| ë°œê²¬ ì‹œ | âŒ ì ˆëŒ€ ê¸ˆì§€ | âœ… ìœ ì¼í•œ í•´ê²°ì±… |
|----------|--------------|--------------|
| í…Œì´ë¸” ëˆ„ë½ | ì£¼ì„ ì²˜ë¦¬, TODO | CREATE TABLE SQL ì‘ì„± â†’ ì¦‰ì‹œ ì‹¤í–‰ |
| íƒ€ì… ì—†ìŒ | any, unknown ëŒ€ì¶© ì‚¬ìš© | ì •í™•í•œ íƒ€ì… í™•ì¸ í›„ ì •ì˜ |
| API ë¯¸êµ¬í˜„ | ë¹ˆ ë°°ì—´/null ë°˜í™˜ | ì™„ì „í•œ êµ¬í˜„ í›„ì—ë§Œ ì§„í–‰ |
| í•¨ìˆ˜ ë¯¸êµ¬í˜„ | TODO, ë¹ˆ í•¨ìˆ˜ | ì™„ì „íˆ êµ¬í˜„í•˜ê±°ë‚˜ ì‚­ì œ |
| ì—ëŸ¬ ë°œìƒ | try-catchë¡œ ìˆ¨ê¸°ê¸° | ê·¼ë³¸ ì›ì¸ í•´ê²° |
| any íƒ€ì… | ê·¸ëŒ€ë¡œ ë‘ê¸° | ì¦‰ì‹œ ì œê±° (biome ì—ëŸ¬) |
| **getSession() ì‚¬ìš©** | **ì„¸ì…˜ ì²´í¬ì— getSession()** | **getUser() ì‚¬ìš© (í† í° ê²€ì¦)** |
| **env ì§ì ‘ ì ‘ê·¼** | **process.env.VARIABLE** | **env.ts íƒ€ì… ì•ˆì „ ì‚¬ìš©** |
| **DB íƒ€ì… ì§ì ‘ import** | **database.generated ì§ì ‘** | **@/typesì—ì„œë§Œ import** |
| **ì§ì ‘ fetch ì‚¬ìš©** | **fetch(), axios ì§ì ‘** | **api-client.ts í•¨ìˆ˜ë§Œ ì‚¬ìš©** |
| **HTML ì§ì ‘ ì‚¬ìš©** | **<button>, <div> íƒœê·¸** | **shadcn/ui ì»´í¬ë„ŒíŠ¸ ìš°ì„ ** |
| **RLS ì—†ëŠ” í…Œì´ë¸”** | **í…Œì´ë¸”ë§Œ ìƒì„±** | **RLS ì •ì±… ì¦‰ì‹œ ì¶”ê°€** |
| **Client ì»´í¬ë„ŒíŠ¸ ë‚¨ë°œ** | **'use client' ê¸°ë³¸** | **Server Component ìš°ì„ ** |
| **ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ë¯¸ì‹¤í–‰** | **ì½”ë“œë§Œ ì‘ì„±í•˜ê³  ì™„ë£Œ** | **verify:parallel ì‹¤í–‰ í•„ìˆ˜** |
| **ì„ì‹œ ë°ì´í„° ë°˜í™˜** | **[], null, "TODO"** | **ì‹¤ì œ ë¡œì§ êµ¬í˜„ ë˜ëŠ” ì‚­ì œ** |

### ğŸ”¥ í•µì‹¬ ì›ì¹™
1. **ì„ì‹œë°©í¸ ë°œê²¬ = ì¦‰ì‹œ ì¤‘ë‹¨**
2. **í•˜ë‚˜ ìˆ˜ì • ì‹œ ì£¼ë³€ ì½”ë“œ í™•ì¸ í•„ìˆ˜**
3. **ì‹¤ì œ ì‘ë™ í™•ì¸ ì—†ì´ ì‘ì—… ì™„ë£Œ ê¸ˆì§€**
4. **ê²€ì¦ ì‹¤íŒ¨ ì‹œ ë‹¤ìŒ ì‘ì—… ì§„í–‰ ê¸ˆì§€**

### ğŸš« ì½”ë“œ ìë™ ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸ ì ˆëŒ€ ê¸ˆì§€
**âŒ ì ˆëŒ€ ê¸ˆì§€: ì½”ë“œë¥¼ ì¼ê´„ ë³€ê²½í•˜ëŠ” ìë™ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±**
- 2025ë…„ 1ì›”, 38ê°œ ìë™ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì¸í•œ "ì—ëŸ¬ ì§€ì˜¥" ê²½í—˜
- ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸(verify-*.js)ë§Œ í—ˆìš©, ìˆ˜ì •ì€ ìˆ˜ë™ìœ¼ë¡œ

### âš¡ 3ë‹¨ê³„ í•„ìˆ˜ í”„ë¡œì„¸ìŠ¤
```bash
1. STOP - ë¬¸ì œ ë°œê²¬ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨
2. FIX - ì™„ì „í•œ í•´ê²° (ì„ì‹œë°©í¸ ê¸ˆì§€)
3. VERIFY - ì‹¤ì œ ì‘ë™ í™•ì¸
   npm run verify:parallel
   npm run types:check
```

---

## ğŸ—ï¸ ìƒˆ ê¸°ëŠ¥ êµ¬í˜„ = í…Œì´ë¸” ë¨¼ì € ìƒì„± (í•„ìˆ˜ ì›Œí¬í”Œë¡œìš°)

### âš¡ ê¸°ëŠ¥ êµ¬í˜„ ì •ì„ í”„ë¡œì„¸ìŠ¤
**"ê¸°ëŠ¥ êµ¬í˜„í•˜ë ¤ë©´ í…Œì´ë¸”ë¶€í„° ë§Œë“¤ê³  ì‹œì‘í•´ë¼"**

#### 1ï¸âƒ£ ê¸°ëŠ¥ ê¸°íš â†’ ì¦‰ì‹œ í…Œì´ë¸” ì„¤ê³„
```yaml
ì˜ˆì‹œ: "ëŒ“ê¸€ ê¸°ëŠ¥ ì¶”ê°€"
  1. í•„ìš” í…Œì´ë¸”: comments, comment_likes  
  2. ê´€ê³„ ì •ì˜: users â† comments â†’ posts
  3. RLS ì •ì±…: ì‘ì„±ìë§Œ ìˆ˜ì •/ì‚­ì œ
```

#### 2ï¸âƒ£ í…Œì´ë¸” SQL ì‘ì„± ë° ì‹¤í–‰ (í•œ ë²ˆì—!)
```bash
# í…Œì´ë¸” ìƒì„± SQL ì‘ì„±ê³¼ ë™ì‹œì— ì‹¤í–‰
cat > migrations/$(date +%Y%m%d)_create_comments.sql << 'EOF'
-- ëŒ“ê¸€ í…Œì´ë¸”
CREATE TABLE IF NOT EXISTS comments (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  post_id UUID REFERENCES posts(id) ON DELETE CASCADE,
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  content TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- RLS í•„ìˆ˜ (ìƒëµí•˜ë©´ Database Agentê°€ ì°¨ë‹¨!)
ALTER TABLE comments ENABLE ROW LEVEL SECURITY;

-- RLS ì •ì±…
CREATE POLICY "Anyone can read comments" ON comments
  FOR SELECT USING (true);

CREATE POLICY "Users can create own comments" ON comments
  FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update own comments" ON comments
  FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Users can delete own comments" ON comments
  FOR DELETE USING (auth.uid() = user_id);

-- ì¸ë±ìŠ¤ (ì¡°íšŒ ì„±ëŠ¥)
CREATE INDEX idx_comments_post_id ON comments(post_id);
CREATE INDEX idx_comments_user_id ON comments(user_id);
CREATE INDEX idx_comments_created_at ON comments(created_at DESC);
EOF

# ì¦‰ì‹œ ì‹¤í–‰ (í…Œì´ë¸” ì—†ìœ¼ë©´ ì–´ì°¨í”¼ ì½”ë“œ ëª»ì§¬)
node scripts/supabase-sql-executor.js --method pg --file migrations/$(ls -t migrations/*.sql | head -1)

# íƒ€ì… ìƒì„± (TypeScript íƒ€ì… ìë™ ìƒì„±)
npm run types:generate

# ê²€ì¦
node scripts/verify-with-service-role.js
```

#### 3ï¸âƒ£ ì´ì œ API/UI êµ¬í˜„ ì‹œì‘
```typescript
// âœ… ì´ì œ í…Œì´ë¸”ì´ ìˆìœ¼ë‹ˆ ì•ˆì „í•˜ê²Œ êµ¬í˜„
import { Database } from '@/types/database.generated';

type Comment = Database['public']['Tables']['comments']['Row'];

// API êµ¬í˜„
export async function POST(req: Request) {
  const { content, post_id } = await req.json();
  
  // í…Œì´ë¸”ì´ ì´ë¯¸ ìˆìœ¼ë‹ˆ ì—ëŸ¬ ì—†ìŒ!
  const { data, error } = await supabase
    .from('comments')
    .insert({ content, post_id, user_id });
}
```

### ğŸš¨ í…Œì´ë¸” ì—†ì´ ê¸°ëŠ¥ êµ¬í˜„ ì‹œë„ = ì¦‰ì‹œ ì°¨ë‹¨
```typescript
// âŒ Database Agentê°€ ì°¨ë‹¨í•˜ëŠ” íŒ¨í„´
await supabase.from('new_table').select(); // í…Œì´ë¸” ì—†ìŒ â†’ STOP!

// âŒ ì„ì‹œë°©í¸ ê¸ˆì§€
// TODO: ë‚˜ì¤‘ì— í…Œì´ë¸” ìƒì„± â†’ ì ˆëŒ€ ê¸ˆì§€!
const data = []; // ì„ì‹œ ë°ì´í„° â†’ ì°¨ë‹¨!

// âœ… ì˜¬ë°”ë¥¸ ìˆœì„œ
// 1. í…Œì´ë¸” SQL ì‘ì„±
// 2. ì¦‰ì‹œ ì‹¤í–‰
// 3. íƒ€ì… ìƒì„±
// 4. êµ¬í˜„ ì‹œì‘
```

### ğŸ“ ê´€ë ¨ í´ë”ë³„ CLAUDE.md ì›Œí¬í”Œë¡œìš°
| ë‹¨ê³„ | ì‘ì—… | ì°¸ì¡° ë¬¸ì„œ | ìë™ Agent |
|-----|------|----------|-----------|
| 1. í…Œì´ë¸” ì„¤ê³„ | SQL ì‘ì„± | `/supabase/migrations/CLAUDE.md` | Database Agent |
| 2. SQL ì‹¤í–‰ | ëª…ë ¹ ì‹¤í–‰ | `/scripts/CLAUDE.md` | Script Agent |
| 3. íƒ€ì… ìƒì„± | types:generate | `/src/types/CLAUDE.md` | Type Agent |
| 4. API êµ¬í˜„ | Route ìƒì„± | `/src/app/api/CLAUDE.md` | API Route Agent |
| 5. UI êµ¬í˜„ | Component | `/src/components/CLAUDE.md` | Component Agent |

---

## ğŸš¨ í”„ë¡œì íŠ¸ í•„ìˆ˜ íŒ¨í„´ (How-to Guide)

**"ìƒí™©ë³„ í•„ìˆ˜ ì‹¤í–‰ íŒ¨í„´ - ì˜ˆì™¸ ì—†ì´ ì¤€ìˆ˜"**

### ğŸ” API Route ì‘ì„± ì‹œ
```typescript
// 1. ë°˜ë“œì‹œ ì´ íŒ¨í„´ìœ¼ë¡œ ì‹œì‘
import { createSupabaseRouteHandlerClient } from '@/lib/supabase/server-client';
import { NextResponse } from 'next/server';

export async function GET(): Promise<NextResponse> {
  const supabase = await createSupabaseRouteHandlerClient();
  
  // 2. ì„¸ì…˜ ì²´í¬ í•„ìˆ˜ (getUserë§Œ ì‚¬ìš©!)
  const { data: { user } } = await supabase.auth.getUser();
  if (!user) {
    return NextResponse.json({ error: 'User not authenticated' }, { status: 401 });
  }
  
  // 3. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§...
}
```

### ğŸ§© ì»´í¬ë„ŒíŠ¸ ì‘ì„± ì‹œ
```typescript
// 1. shadcn/ui ë¨¼ì € í™•ì¸
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';

// 2. Server Componentê°€ ê¸°ë³¸ ('use client' ìµœì†Œí™”)
export default function ServerComponent({ data }: Props) {
  return (
    <Card>
      <CardContent>
        <Button>shadcn/ui ì‚¬ìš©</Button>
      </CardContent>
    </Card>
  );
}
```

### ğŸ”· íƒ€ì… ì •ì˜ ì‹œ
```typescript
// 1. ëª¨ë“  íƒ€ì…ì€ @/typesì—ì„œë§Œ
import { User, Post } from '@/types';  // âœ… ì˜¬ë°”ë¦„

// âŒ ì ˆëŒ€ ê¸ˆì§€
// import { Database } from '@/types/database.generated';
// const data: any = {};

// 2. í•¨ìˆ˜ ë°˜í™˜ íƒ€ì… ëª…ì‹œ í•„ìˆ˜
export function processUser(user: User): ProcessedUser {
  // ...
}
```

### ğŸŒ í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© ì‹œ
```typescript
// 1. env.tsë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼
import { env } from '@/env';

// âœ… ì˜¬ë°”ë¦„
const apiKey = env.YOUTUBE_API_KEY;
const dbUrl = env.DATABASE_URL;

// âŒ ì ˆëŒ€ ê¸ˆì§€
// const apiKey = process.env.YOUTUBE_API_KEY;
```

### ğŸ“¡ API í˜¸ì¶œ ì‹œ
```typescript
// 1. api-client.ts í•¨ìˆ˜ë§Œ ì‚¬ìš©
import { apiGet, apiPost } from '@/lib/api-client';

// âœ… ì˜¬ë°”ë¦„
const users = await apiGet<User[]>('/api/users');
const newPost = await apiPost<Post>('/api/posts', data);

// âŒ ì ˆëŒ€ ê¸ˆì§€
// const response = await fetch('/api/users');
```

### ğŸ—„ï¸ í…Œì´ë¸” ìƒì„± ì‹œ
```sql
-- 1. í…Œì´ë¸” ìƒì„±
CREATE TABLE IF NOT EXISTS new_table (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- 2. RLS í™œì„±í™” (ì ˆëŒ€ ìƒëµ ê¸ˆì§€!)
ALTER TABLE new_table ENABLE ROW LEVEL SECURITY;

-- 3. RLS ì •ì±… (ìµœì†Œ 1ê°œ ì´ìƒ í•„ìˆ˜)
CREATE POLICY "Users own records" ON new_table
  FOR ALL USING (auth.uid() = user_id);
```

### âœ… ì‘ì—… ì™„ë£Œ ì‹œ
```bash
# 1. ì½”ë“œ ì‘ì„± í›„ ë°˜ë“œì‹œ ì‹¤í–‰
npm run verify:parallel

# 2. íƒ€ì… ì²´í¬
npm run types:check

# 3. ë¹Œë“œ í…ŒìŠ¤íŠ¸  
npm run build

# ëª¨ë“  ë‹¨ê³„ í†µê³¼ í›„ì—ë§Œ ì‘ì—… ì™„ë£Œ ì„ ì–¸!
```

---

## ğŸ¤– Active Agents (Direct Tool Integration)

**âš¡ CRITICAL: ëª¨ë“  Edit, Write, MultiEdit ì‘ì—… ì‹œ í•´ë‹¹ ì „ë¬¸ ì„œë¸Œì—ì´ì „íŠ¸ì˜ í’ˆì§ˆ ê¸°ì¤€ì„ ì¦‰ì‹œ ì ìš©í•˜ì„¸ìš”.**

### ğŸ¯ ì„œë¸Œì—ì´ì „íŠ¸ ì¦‰ì‹œ ì°¨ë‹¨ ë§¤íŠ¸ë¦­ìŠ¤
| ì‘ì—… ìœ í˜• | Agent | ğŸš« ì¦‰ì‹œ ì°¨ë‹¨í•˜ëŠ” íŒ¨í„´ | âœ… ê°•ì œ ì ìš© íŒ¨í„´ |
|----------|-------|---------------------|------------------|
| **API ì‘ì„±** | API Route Agent | ğŸ”´ `getSession()`, `requireAuth()`, `process.env`, `fetch()` | `getUser()` íŒ¨í„´, `env.ts`, `api-client` |
| **ì»´í¬ë„ŒíŠ¸** | Component Agent | `<button>`, `<div>`, `'use client'` ë‚¨ë°œ | `shadcn/ui`, Server Component |
| **íƒ€ì… ì •ì˜** | Type Agent | ğŸ”´ `any`, `unknown` ë‚¨ë°œ, `database.generated` ì§ì ‘ | `@/types` ì¤‘ì•™í™”, êµ¬ì²´ì  íƒ€ì… ì •ì˜ |
| **í…Œì´ë¸” ìƒì„±** | Database Agent | ğŸ”´ RLS ì—†ëŠ” í…Œì´ë¸”, 22ê°œ í…Œì´ë¸” í•œë²ˆì— ì²˜ë¦¬ | RLS í•„ìˆ˜, ë‹¨ê³„ì  ë°±ì—… ì ‘ê·¼ |
| **í™˜ê²½ë³€ìˆ˜** | Library Agent | `process.env.VAR` | `env.ts` íƒ€ì… ì•ˆì „ |
| **ë³´ì•ˆ** | Security Agent | `innerHTML`, í•˜ë“œì½”ë”© í‚¤ | `DOMPurify`, `env.ts` |
| **React Query** | Query Agent | ì§ì ‘ `fetch()`, `any` íƒ€ì… | `api-client`, íƒ€ì… íŒŒë¼ë¯¸í„° |
| **ìŠ¤í¬ë¦½íŠ¸** | Script Agent | `fix-*.js` ìƒì„± | `verify-*.js`ë§Œ í—ˆìš© |
| **í˜ì´ì§€** | Page Agent | Client ê¸°ë³¸ê°’ | Server Component ìš°ì„  |

**ğŸ›‘ MANDATORY WORKFLOW:**
1. **ì»´í¬ë„ŒíŠ¸ íŒŒì¼** (src/components/**) â†’ shadcn/ui ìš°ì„ , any íƒ€ì… ì°¨ë‹¨, Server Component ê¸°ë³¸
2. **API íŒŒì¼** (src/app/api/**) â†’ ì¸ì¦ ê²€ì‚¬ í•„ìˆ˜, snake_case ë³€í™˜, Supabase íŒ¨í„´
3. **íƒ€ì… íŒŒì¼** (*.ts, *.tsx) â†’ any íƒ€ì… ì¦‰ì‹œ ì œê±°, @/types ì¤‘ì•™í™”
4. **ë³´ì•ˆ ê´€ë ¨** (auth, security) â†’ RLS ì •ì±…, env.ts ì‚¬ìš©, XSS ë°©ì§€
5. **ë°ì´í„°ë² ì´ìŠ¤** (SQL, migration) â†’ RLS í•„ìˆ˜, íƒ€ì… ìƒì„±, ê²€ì¦ ì‹¤í–‰
6. **React Query** (src/hooks/**) â†’ 15ê°œ í›… íŒ¨í„´, api-client ê°•ì œ
7. **í˜ì´ì§€** (src/app/(pages)**) â†’ Server Component, force-dynamic
8. **ë¼ì´ë¸ŒëŸ¬ë¦¬** (src/lib/**) â†’ env.ts, api-client, utils íŒ¨í„´
9. **í…ŒìŠ¤íŠ¸** (e2e/, *.test.ts) â†’ ëŸ°íƒ€ì„ ì—ëŸ¬ ê°ì§€, 80% ì»¤ë²„ë¦¬ì§€
10. **ìŠ¤í¬ë¦½íŠ¸** (scripts/**) â†’ verify-*.jsë§Œ í—ˆìš©, fix-*.js ê¸ˆì§€
11. **ë¬¸ì„œ** (docs/, *.md) â†’ 14ê°œ ì²´ê³„, CONTEXT_BRIDGE.md ìš°ì„ 
12. **ëª¨ë“  ì‘ì—…** â†’ Quality Gates, ì„ì‹œë°©í¸ ê¸ˆì§€, ê²€ì¦ í•„ìˆ˜

### API Route Agent
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write, MultiEdit (src/app/api/**)
- **ğŸ”´ Critical Risk**: `requireAuth()` íŒ¨í„´ ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€ (í”„ë¡œì íŠ¸ì— ì—†ëŠ” í•¨ìˆ˜)
- **âœ… í”„ë¡œì íŠ¸ í‘œì¤€**: `supabase.auth.getUser()` íŒ¨í„´ë§Œ ì‚¬ìš© (28ê°œ ê¸°ì¡´ íŒŒì¼ ë™ì¼)
- **ì¸ì¦ íŒ¨í„´**: ëª¨ë“  API Routeì— ì„¸ì…˜ ê²€ì‚¬ ê°•ì œ ì‹¤í–‰
- **íƒ€ì… ì•ˆì „ì„±**: any íƒ€ì… ì¦‰ì‹œ ì°¨ë‹¨ ë° ìˆ˜ì •
- **snake_case ë³€í™˜**: DB ê²½ê³„ì—ì„œ ìë™ ë³€í™˜ ì ìš©

### Component Agent  
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write, MultiEdit (src/components/**)
- **shadcn/ui ìš°ì„ **: ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ í™•ì¸ í›„ ì‚¬ìš© ê°•ì œ
- **Server Component ê¸°ë³¸**: 'use client' ìµœì†Œí™”
- **Tailwind CSS**: styled-components ë“± ëŒ€ì²´ ìŠ¤íƒ€ì¼ë§ ì°¨ë‹¨
- **í”„ë¡œì íŠ¸ íŒ¨í„´**: ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ì¼ê´€ì„± ìœ ì§€

### Type Agent
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write, MultiEdit (*.ts, *.tsx)
- **ğŸ”´ Critical Risk**: monitoring.tsì— 6ê°œ any íƒ€ì… ì„ì‹œ ì •ì˜ ì¡´ì¬ â†’ ì¦‰ì‹œ ì œê±° í•„ìˆ˜
- **any íƒ€ì… ì ˆëŒ€ ì°¨ë‹¨**: ë°œê²¬ ì¦‰ì‹œ ìˆ˜ì • ë˜ëŠ” ì‘ì—… ì¤‘ë‹¨
- **êµ¬ì²´ì  íƒ€ì… ê°•ì œ**: Alert, AlertRule, AlertRuleType ë“± YouTube ëª¨ë‹ˆí„°ë§ íƒ€ì… ì™„ì „ ì •ì˜
- **@/types ì¤‘ì•™í™”**: database.generated ì§ì ‘ import ê¸ˆì§€
- **íƒ€ì… ìƒì„±**: DB ë³€ê²½ ì‹œ ìë™ íƒ€ì… ì—…ë°ì´íŠ¸ ì‹¤í–‰
- **biome ê·œì¹™**: TypeScript strict ëª¨ë“œ ê°•ì œ ì¤€ìˆ˜

### Security Agent
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write (security, auth ê´€ë ¨)
- **RLS ì •ì±…**: ìƒˆ í…Œì´ë¸” ìƒì„± ì‹œ ì¦‰ì‹œ RLS ì •ì±… ìƒì„±
- **í™˜ê²½ë³€ìˆ˜**: process.env ì§ì ‘ ì ‘ê·¼ ì°¨ë‹¨, env.ts ì‚¬ìš© ê°•ì œ
- **XSS ë°©ì§€**: innerHTML ì§ì ‘ ì‚¬ìš© ì°¨ë‹¨, DOMPurify ê°•ì œ
- **Wave ë³´ì•ˆ**: 0-3 Wave ë³´ì•ˆ ê¸°ì¤€ ìë™ ì ìš©

### Database Agent
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write (migration, SQL íŒŒì¼)
- **ğŸ”´ Critical Risk**: ë°±ì—… ì‹œìŠ¤í…œì—ì„œ 22ê°œ í…Œì´ë¸” í•œë²ˆì— ì²˜ë¦¬ â†’ TypeScript ì»´íŒŒì¼ëŸ¬ ë¶€í•˜
- **âœ… ë‹¨ê³„ì  ì ‘ê·¼**: CORE_BACKUP_TABLES(4ê°œ) â†’ EXTENDED(7ê°œ) â†’ FULL(22ê°œ) ìˆœì°¨ í™•ì¥
- **RLS í•„ìˆ˜**: í…Œì´ë¸” ìƒì„±ê³¼ ë™ì‹œì— RLS ì •ì±… ì ìš©
- **íƒ€ì… ìƒì„±**: SQL ë³€ê²½ í›„ ìë™ìœ¼ë¡œ npm run types:generate ì‹¤í–‰
- **ê²€ì¦**: ëª¨ë“  DB ë³€ê²½ í›„ verify-with-service-role.js ì‹¤í–‰

### Query Agent
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write (src/hooks/**)
- **React Query íŒ¨í„´**: 15ê°œ êµ¬í˜„ëœ í›… íŒ¨í„´ ì¤€ìˆ˜
- **api-client.ts**: ì§ì ‘ fetch ì°¨ë‹¨, api-client í•¨ìˆ˜ë§Œ í—ˆìš©
- **ìºì‹± ì „ëµ**: ì ì ˆí•œ staleTime, gcTime ì„¤ì • ê°•ì œ
- **íƒ€ì… ì•ˆì „ì„±**: useQuery, useMutation íƒ€ì… íŒŒë¼ë¯¸í„° í•„ìˆ˜

### Test Agent  
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write (í…ŒìŠ¤íŠ¸ íŒŒì¼)
- **ëŸ°íƒ€ì„ ì—ëŸ¬ ê°ì§€**: global-setup.ts íŒ¨í„´ ì ìš©
- **E2E ìë™í™”**: Playwright ì„¤ì • ìµœì í™”
- **80% ì»¤ë²„ë¦¬ì§€**: í•µì‹¬ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ê°•ì œ ì ìš©
- **ìë™ ì•„ì¹´ì´ë¸Œ**: ì„ì‹œ í…ŒìŠ¤íŠ¸ íŒŒì¼ ìë™ ì •ë¦¬

### Page Agent
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write (src/app/(pages)/**)
- **Server Component**: ê¸°ë³¸ê°’ìœ¼ë¡œ ê°•ì œ ì ìš©
- **force-dynamic**: í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© ì‹œ ìë™ ì¶”ê°€
- **App Router**: Next.js 13+ íŒ¨í„´ ê°•ì œ ì¤€ìˆ˜
- **ë¼ìš°íŒ…**: í”„ë¡œì íŠ¸ ë¼ìš°íŒ… êµ¬ì¡° ì¼ê´€ì„± ìœ ì§€

### Library Agent
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write (src/lib/**)
- **env.ts**: í™˜ê²½ë³€ìˆ˜ íƒ€ì… ì•ˆì „ ì ‘ê·¼ ê°•ì œ
- **api-client.ts**: ë‚´ë¶€ API í˜¸ì¶œ í‘œì¤€í™”
- **utils.ts**: cn() ë“± ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¼ê´€ì„±
- **Supabase**: í”„ë¡œì íŠ¸ í´ë¼ì´ì–¸íŠ¸ íŒ¨í„´ ì¤€ìˆ˜

### Script Agent
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write (scripts/**)
- **ê²€ì¦ë§Œ í—ˆìš©**: verify-*.jsë§Œ ìƒì„± í—ˆìš©
- **ìë™ ìˆ˜ì • ê¸ˆì§€**: fix-*.js ìƒì„± ì‹œ ì¦‰ì‹œ ì°¨ë‹¨
- **SQL ì‹¤í–‰**: supabase-sql-executor.js íŒ¨í„´ ì¤€ìˆ˜
- **38ê°œ ìŠ¤í¬ë¦½íŠ¸ êµí›ˆ**: 2025ë…„ 1ì›” ì—ëŸ¬ ì§€ì˜¥ ë°©ì§€

### Documentation Agent  
Direct tool ì‘ì—… ì‹œ ìë™ í™œì„±í™”: Edit, Write (docs/**, *.md)
- **14ê°œ ë¬¸ì„œ ì²´ê³„**: ê¸°ì¡´ ë¬¸ì„œ êµ¬ì¡° ìœ ì§€
- **CONTEXT_BRIDGE.md**: ë°˜ë³µ ì‹¤ìˆ˜ íŒ¨í„´ ì—…ë°ì´íŠ¸
- **ì¤‘ë³µ ë°©ì§€**: ë¬¸ì„œ ê°„ ë‚´ìš© ì¤‘ë³µ ì°¨ë‹¨
- **ìµœì‹  ì •ë³´**: ìµœì‹  7ê°œ ë³€ê²½ì‚¬í•­ë§Œ ìœ ì§€

### PM Dhacle (Total Coordinator)
Direct tool ì‘ì—… ì‹œ í•­ìƒ í™œì„±í™”: ëª¨ë“  ë„êµ¬ ì‚¬ìš© ì‹œ
- **Quality Gates**: ëª¨ë“  ì‘ì—… í›„ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê°•ì œ
- **ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬**: 11ê°œ ì „ë¬¸ ì—ì´ì „íŠ¸ ì¡°ì •
- **ì‘ì—… íë¦„**: API â†’ Type â†’ Component â†’ Test ìˆœì„œ ê°•ì œ
- **ì—ëŸ¬ ì œë¡œ**: ì„ì‹œë°©í¸ ì½”ë“œ ë°œê²¬ ì‹œ ì¦‰ì‹œ ì‘ì—… ì¤‘ë‹¨

---

## ğŸ“ í´ë”ë³„ ìƒì„¸ ì§€ì¹¨ ë§µ

**ì‘ì—… ìœ„ì¹˜ì— ë”°ë¼ í•´ë‹¹ í´ë”ì˜ CLAUDE.mdë¥¼ ìš°ì„  í™•ì¸í•˜ì„¸ìš”.**

| ì‘ì—… ì˜ì—­ | íŒŒì¼ ìœ„ì¹˜ | ì£¼ìš” ë‚´ìš© | í•µì‹¬ ê·œì¹™ |
|----------|----------|----------|----------|
| **API Routes** | [/src/app/api/CLAUDE.md](src/app/api/CLAUDE.md) | API íŒ¨í„´, ì¸ì¦, ì—ëŸ¬ ì²˜ë¦¬ | ëª¨ë“  Route ì„¸ì…˜ ê²€ì‚¬ í•„ìˆ˜ |
| **í˜ì´ì§€** | [/src/app/(pages)/CLAUDE.md](src/app/(pages)/CLAUDE.md) | Server Component, ë¼ìš°íŒ… | Server Component ìš°ì„  |
| **ì»´í¬ë„ŒíŠ¸** | [/src/components/CLAUDE.md](src/components/CLAUDE.md) | shadcn/ui, Tailwind CSS | shadcn/ui ìš°ì„  ì‚¬ìš© |
| **íƒ€ì… ì‹œìŠ¤í…œ** | [/src/types/CLAUDE.md](src/types/CLAUDE.md) | TypeScript, íƒ€ì… ê´€ë¦¬ | @/typesì—ì„œë§Œ import |
| **React Query** | [/src/hooks/CLAUDE.md](src/hooks/CLAUDE.md) | ì¿¼ë¦¬ í›…, ìºì‹± ì „ëµ | 15ê°œ êµ¬í˜„ëœ í›… í™œìš© |
| **Supabase** | [/src/lib/supabase/CLAUDE.md](src/lib/supabase/CLAUDE.md) | í´ë¼ì´ì–¸íŠ¸ íŒ¨í„´, RLS | í”„ë¡œì íŠ¸ í‘œì¤€ íŒ¨í„´ ì¤€ìˆ˜ |
| **ë¼ì´ë¸ŒëŸ¬ë¦¬** | [/src/lib/CLAUDE.md](src/lib/CLAUDE.md) | í™˜ê²½ë³€ìˆ˜, API í´ë¼ì´ì–¸íŠ¸ | env.ts íƒ€ì… ì•ˆì „ ì‚¬ìš© |
| **ë³´ì•ˆ** | [/src/lib/security/CLAUDE.md](src/lib/security/CLAUDE.md) | RLS, ê²€ì¦, XSS ë°©ì§€ | Wave 0-3 ì™„ë£Œ ìƒíƒœ |
| **ìŠ¤í¬ë¦½íŠ¸** | [/scripts/CLAUDE.md](scripts/CLAUDE.md) | ê²€ì¦, SQL ì‹¤í–‰ | ìë™ ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ ê¸ˆì§€ |
| **ë¬¸ì„œ** | [/docs/CLAUDE.md](docs/CLAUDE.md) | 14ê°œ í•µì‹¬ ë¬¸ì„œ ì²´ê³„ | CONTEXT_BRIDGE.md ìµœìš°ì„  |
| **í…ŒìŠ¤íŠ¸** | [/tests/CLAUDE.md](tests/CLAUDE.md) | Vitest, MSW, Playwright | 80% ì»¤ë²„ë¦¬ì§€ ëª©í‘œ |

---

## ğŸ”— 15ê°œ í•µì‹¬ ë¬¸ì„œ ì²´ê³„

> **í•„ë… ìˆœì„œëŒ€ë¡œ í™•ì¸**:
> 1. ğŸ”¥ `/docs/CONTEXT_BRIDGE.md` - **ìµœìš°ì„ !** ë°˜ë³µ ì‹¤ìˆ˜ íŒ¨í„´ + ì˜ˆë°©ì±…
> 2. ğŸ“Š `/docs/PROJECT.md` - í”„ë¡œì íŠ¸ í˜„í™© (Phase 1-4 ì™„ë£Œ)
> 3. ğŸ—ºï¸ `/docs/CODEMAP.md` - í”„ë¡œì íŠ¸ êµ¬ì¡°
> 4. âœ… `/docs/CHECKLIST.md` - ì‘ì—… ê²€ì¦ (12ê°œ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸)
> 5. ğŸ“– `/docs/DOCUMENT_GUIDE.md` - ë¬¸ì„œ ì‘ì„± ê°€ì´ë“œ
> 6. ğŸ¯ `/docs/INSTRUCTION_TEMPLATE_E2E.md` - **ìµœì¢… E2E ì§€ì‹œ í…œí”Œë¦¿ **
> 7. ğŸ”„ `/docs/FLOWMAP.md` - ì‚¬ìš©ì í”Œë¡œìš°
> 8. ğŸ”Œ `/docs/WIREFRAME.md` - UI-API ì—°ê²°
> 9. ğŸ§© `/docs/COMPONENT_INVENTORY.md` - ì»´í¬ë„ŒíŠ¸ ëª©ë¡
> 10. ğŸ“ `/docs/ROUTE_SPEC.md` - ë¼ìš°íŠ¸ êµ¬ì¡°
> 11. ğŸ’¾ `/docs/STATE_FLOW.md` - ìƒíƒœ ê´€ë¦¬ (React Query + Zustand)
> 12. ğŸ“¦ `/docs/DATA_MODEL.md` - ë°ì´í„° ëª¨ë¸
> 13. ğŸš¨ `/docs/ERROR_BOUNDARY.md` - HTTP ì—ëŸ¬ ì²˜ë¦¬
> 14. ğŸ­ `/docs/PLAYWRIGHT_USAGE.md` - **E2E í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ** (2025-08-27 ì¶”ê°€)


---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

### 1ï¸âƒ£ ì‘ì—… ì‹œì‘ ì „
- [ ] ì‘ì—… ìœ„ì¹˜ í™•ì¸ â†’ í•´ë‹¹ í´ë” CLAUDE.md ì½ê¸°
- [ ] `/docs/CONTEXT_BRIDGE.md` í™•ì¸ (ë°˜ë³µ ì‹¤ìˆ˜ ë°©ì§€)
- [ ] ê¸°ì¡´ íŒŒì¼ Readë¡œ ë¨¼ì € ì½ê¸°

### 2ï¸âƒ£ ì½”ë“œ ì‘ì„± ì‹œ
- [ ] í´ë”ë³„ CLAUDE.md íŒ¨í„´ ì¤€ìˆ˜
- [ ] any íƒ€ì… ì ˆëŒ€ ê¸ˆì§€
- [ ] ì„ì‹œë°©í¸ ì½”ë“œ ì‘ì„± ê¸ˆì§€

### 3ï¸âƒ£ ì‘ì—… ì™„ë£Œ í›„
- [ ] `npm run verify:parallel` ì‹¤í–‰
- [ ] íƒ€ì… ì²´í¬ í†µê³¼ í™•ì¸
- [ ] ë¹Œë“œ ì„±ê³µ í™•ì¸

---

## âš¡ ê¸´ê¸‰ ëŒ€ì‘ ê°€ì´ë“œ

### ğŸ”¥ YouTube Lens 500 ì—ëŸ¬ ë°œìƒ ì‹œ (2025-08-29 ì™„ì „ í•´ê²°)
**ì¦‰ì‹œ í™•ì¸**: `YOUTUBE_LENS_500_ERROR_RESOLUTION_GUIDE.md` ì°¸ì¡°
```bash
# 1. ë¹Œë“œ ì„±ê³µ í™•ì¸ (10ì´ˆ)  
npm run build

# 2. ê°œë°œ ì„œë²„ ì •ìƒ ì‹œì‘ (2.5ì´ˆ)
npm run dev

# 3. next.config.ts ì„¤ì • í™•ì¸
grep "output.*standalone" next.config.ts  # ìˆì–´ì•¼ ì •ìƒ
```
**í•µì‹¬**: webpack layout.js ë¬¸ì œëŠ” Next.js standalone ëª¨ë“œë¡œ ì™„ì „ í•´ê²°ë¨

### Vercel ë¹Œë“œ ì‹¤íŒ¨ ì‹œ
1. Vercel Dashboardì—ì„œ ë¹Œë“œ ì»¤ë°‹ í™•ì¸
2. ë¡œì»¬ê³¼ ë™ì¼í•œì§€ í™•ì¸: `git log --oneline -1`
3. DB í…Œì´ë¸” ì˜¤ë¥˜: `node scripts/verify-with-service-role.js`
4. TypeScript ì˜¤ë¥˜: ê° íŒŒì¼ ìˆ˜ë™ ìˆ˜ì • (ìë™ ìŠ¤í¬ë¦½íŠ¸ ê¸ˆì§€!)

### ë³´ì•ˆ í˜„í™©
- Wave 0-3: ì™„ë£Œ âœ…
- RLS ì •ì±…: 21ê°œ í…Œì´ë¸” SQL ì‘ì„± ì™„ë£Œ
- Rate Limiting, Zod, XSS ë°©ì§€: êµ¬í˜„ ì™„ë£Œ

### ğŸ¤– ì„œë¸Œì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ (2025-08-28 í™œì„±í™”)
- **16ê°œ ì „ë¬¸ ì—ì´ì „íŠ¸**: pm-dhacle + 15ê°œ ì „ë¬¸ ì—ì´ì „íŠ¸ êµ¬ì¶• ì™„ë£Œ
- **ìë™ í™œì„±í™”**: Edit/Write/MultiEdit ì‹œ íŒŒì¼ íŒ¨í„´ ë§¤ì¹­ìœ¼ë¡œ ìë™ í™œì„±í™”
- **ì¦‰ì‹œ ì°¨ë‹¨**: any íƒ€ì…, ì„ì‹œë°©í¸ ì½”ë“œ, TODO ì£¼ì„, ë¹ˆ í•¨ìˆ˜
- **í’ˆì§ˆ í–¥ìƒ**: ë°˜ë³µ ì‹¤ìˆ˜ 40-50% â†’ 5% ì´í•˜ ëª©í‘œ
- **Task ë„êµ¬ ì‚¬ìš© ì‹œ ì£¼ì˜**: `analyzer`ê°€ ì•„ë‹Œ `general-purpose` ì‚¬ìš© (CONTEXT_BRIDGE.md #19 ì°¸ì¡°)

---

## ğŸ“‹ ê²€ì¦ ëª…ë ¹ì–´

```bash
# ë³‘ë ¬ ê²€ì¦ (ê°€ì¥ ë¹ ë¦„)
npm run verify:parallel

# íƒ€ì… ì‹œìŠ¤í…œ
npm run types:check

# ë³´ì•ˆ í…ŒìŠ¤íŠ¸
npm run security:test

# SQL ì‹¤í–‰ (í•„ìš”ì‹œ)
node scripts/supabase-sql-executor.js --method pg --file <SQLíŒŒì¼>
```

---

## ğŸ’¬ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜

- ì‘ì—… ì „ ì˜ë„ ì„¤ëª…
- ì¤‘ìš” ë³€ê²½ì‚¬í•­ ì‚¬ì „ í˜‘ì˜
- ì—ëŸ¬ ë°œìƒ ì‹œ ì¦‰ì‹œ ë³´ê³ 
- í•œêµ­ì–´ë¡œ ëª…í™•í•œ ì†Œí†µ

---

*ê° í´ë”ë³„ ìƒì„¸ ì§€ì¹¨ì€ í•´ë‹¹ CLAUDE.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.*