# ğŸ§ª ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

*Claude Codeê°€ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ë•Œ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•˜ëŠ” ë¬¸ì„œ*

---

## âš ï¸ ì¤‘ìš”: í…ŒìŠ¤íŠ¸ ì „ ë°˜ë“œì‹œ ì½ê¸°!

**ì´ ë¬¸ì„œëŠ” ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ ì‹œ í•„ìš”í•œ ëª¨ë“  ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.**

---

## ğŸ” í…ŒìŠ¤íŠ¸ ê³„ì • ì •ë³´

### ì‹¤ì œ ì¹´ì¹´ì˜¤ ê³„ì • (ê´€ë¦¬ì)
```
ì´ë©”ì¼: glemfkcl@naver.com
ë¹„ë°€ë²ˆí˜¸: dhfl9909
ìš©ë„: ì‹¤ì œ ì¹´ì¹´ì˜¤ OAuth í…ŒìŠ¤íŠ¸, YouTube Lens ê´€ë¦¬ì ê¸°ëŠ¥
ê¶Œí•œ: ê´€ë¦¬ì (ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼ ê°€ëŠ¥)
```

### í…ŒìŠ¤íŠ¸ ê³„ì • (ê°œë°œ í™˜ê²½ ì „ìš©)
```
ì´ë©”ì¼: test@dhacle.com
ë¹„ë°€ë²ˆí˜¸: test1234
ìš©ë„: ë¡œì»¬ ê°œë°œ í™˜ê²½ í…ŒìŠ¤íŠ¸
ì‚¬ìš©ë²•: localhostì—ì„œ "ğŸ§ª í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ (localhost ì „ìš©)" ë²„íŠ¼ í´ë¦­
```

---

## ğŸ¯ í…ŒìŠ¤íŠ¸ í™˜ê²½ë³„ ë¡œê·¸ì¸ ë°©ë²•

### 1. localhost:3000 (ê°œë°œ í™˜ê²½)
```markdown
âœ… ê¶Œì¥ ë°©ë²•: í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ ë²„íŠ¼ ì‚¬ìš©

1. http://localhost:3000/auth/login ì ‘ì†
2. "ğŸ§ª í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ (localhost ì „ìš©)" ë²„íŠ¼ í´ë¦­
3. ìë™ìœ¼ë¡œ ì„¸ì…˜ ìƒì„±ë˜ê³  /mypage/profileë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
4. ëª¨ë“  ë³´í˜¸ëœ í˜ì´ì§€ ì ‘ê·¼ ê°€ëŠ¥

âš ï¸ ì£¼ì˜: ì´ ë²„íŠ¼ì€ NODE_ENV=developmentì—ì„œë§Œ í‘œì‹œë¨
```

### 2. dhacle.com (í”„ë¡œë•ì…˜ í™˜ê²½) 
```markdown
âš¡ ì‹¤ì œ ì¹´ì¹´ì˜¤ OAuth í”Œë¡œìš°:

1. https://dhacle.com/auth/login ì ‘ì†
2. "ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ 3ì´ˆ ë§Œì— ì‹œì‘í•˜ê¸°" ë²„íŠ¼ í´ë¦­
3. â³ **ì¤‘ìš”: ë²„íŠ¼ í´ë¦­ í›„ 1ë¶„ ì •ë„ ëŒ€ê¸° í•„ìš”**
   - ì¹´ì¹´ì˜¤ ì¸ì¦ ì„œë²„ ì‘ë‹µ ëŒ€ê¸°
   - ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ì§€ì—° ê°€ëŠ¥
4. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
5. ê³„ì • ì •ë³´ ì…ë ¥:
   - ì´ë©”ì¼: glemfkcl@naver.com
   - ë¹„ë°€ë²ˆí˜¸: dhfl9909
6. ì¸ì¦ ì™„ë£Œ í›„ dhacle.comìœ¼ë¡œ ë¦¬í„´
```

---

## ğŸ§ª E2E í…ŒìŠ¤íŠ¸ ì‘ì„± ê·œì¹™

### íŒŒì¼ ìœ„ì¹˜ (ì¤‘ìš”!)
```bash
âœ… ì˜¬ë°”ë¥¸ ê²½ë¡œ: ./e2e/*.spec.ts
âŒ ì˜ëª»ëœ ê²½ë¡œ: ./tests/e2e/*.spec.ts, ./src/e2e/*.spec.ts

# playwright.config.tsì—ì„œ testDir: './e2e'ë¡œ ì„¤ì •ë¨
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹
```bash
# ë‹¨ì¼ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx playwright test e2e/kakao-login.spec.ts --project=chromium

# ëª¨ë“  ì¸ì¦ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx playwright test e2e/ --grep="login|auth" --project=chromium

# ë””ë²„ê·¸ ëª¨ë“œë¡œ ì‹¤í–‰ (ë¸Œë¼ìš°ì € í‘œì‹œ)
npx playwright test e2e/kakao-login.spec.ts --project=chromium --debug

# HTML ë¦¬í¬íŠ¸ ìƒì„±
npx playwright test e2e/kakao-login.spec.ts --reporter=html
```

---

## ğŸ“ í…ŒìŠ¤íŠ¸ ì½”ë“œ í…œí”Œë¦¿

### localhost í…ŒìŠ¤íŠ¸ (ê¶Œì¥)
```typescript
import { test, expect } from '@playwright/test'

test('ë¡œì»¬ í™˜ê²½ í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸', async ({ page }) => {
  // 1. ë¡œê·¸ì¸ í˜ì´ì§€ ì ‘ì†
  await page.goto('http://localhost:3000/auth/login')
  
  // 2. í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­
  const testLoginBtn = page.locator('button:has-text("ğŸ§ª í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸")')
  await expect(testLoginBtn).toBeVisible()
  await testLoginBtn.click()
  
  // 3. ë¦¬ë‹¤ì´ë ‰íŠ¸ ëŒ€ê¸°
  await page.waitForURL('**/mypage/profile')
  
  // 4. ë³´í˜¸ëœ í˜ì´ì§€ í…ŒìŠ¤íŠ¸
  await page.goto('http://localhost:3000/youtube-lens')
  expect(page.url()).toContain('/youtube-lens')
})
```

### í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸ (ì‹¤ì œ ì¹´ì¹´ì˜¤ OAuth)
```typescript
import { test, expect } from '@playwright/test'

test('ì¹´ì¹´ì˜¤ OAuth í”Œë¡œìš° - ì‹¤ì œ ê³„ì •', async ({ page }) => {
  // 1. ë¡œê·¸ì¸ í˜ì´ì§€ ì ‘ì†
  await page.goto('https://dhacle.com/auth/login')
  
  // 2. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­
  const kakaoBtn = page.locator('button:has-text("ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ 3ì´ˆ ë§Œì— ì‹œì‘í•˜ê¸°")')
  await kakaoBtn.click()
  
  // 3. â³ ì¤‘ìš”: ì¶©ë¶„í•œ ëŒ€ê¸° ì‹œê°„ í™•ë³´
  await page.waitForTimeout(60000) // 1ë¶„ ëŒ€ê¸°
  
  // 4. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ì¸ì¦
  // ì´ë©”ì¼: glemfkcl@naver.com
  // ë¹„ë°€ë²ˆí˜¸: dhfl9909
  
  // 5. ì¸ì¦ í”Œë¡œìš° í™•ì¸
  const url = page.url()
  const isAuthFlow = url.includes('kauth.kakao.com') || 
                    url.includes('dhacle.com/dashboard') ||
                    url.includes('dhacle.com/onboarding')
  
  expect(isAuthFlow).toBeTruthy()
})
```

---

## âš ï¸ ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

### 1. "ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" ì—ëŸ¬
```markdown
ì›ì¸: ì¹´ì¹´ì˜¤ Redirect URI ì„¤ì • ë¶ˆì¼ì¹˜
í•´ê²°:
1. ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”ì—ì„œ Redirect URI í™•ì¸
2. https://dhacle.com/auth/callback ë“±ë¡ í™•ì¸
3. ì„¤ì • ë³€ê²½ í›„ 10ë¶„ ëŒ€ê¸°
```

### 2. í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ ë²„íŠ¼ì´ ì•ˆ ë³´ì„
```markdown
ì›ì¸: í”„ë¡œë•ì…˜ í™˜ê²½ì´ê±°ë‚˜ í™˜ê²½ë³€ìˆ˜ ë¯¸ì„¤ì •
í•´ê²°:
1. NODE_ENV=development í™•ì¸
2. NEXT_PUBLIC_DEV_MODE=true ì„¤ì •
3. npm run devë¡œ ê°œë°œ ì„œë²„ ì¬ì‹œì‘
```

### 3. E2E í…ŒìŠ¤íŠ¸ íƒ€ì„ì•„ì›ƒ
```markdown
ì›ì¸: ëŒ€ê¸° ì‹œê°„ ë¶€ì¡± ë˜ëŠ” ê²½ë¡œ ì˜¤ë¥˜
í•´ê²°:
1. waitForTimeout ê°’ì„ 60000(1ë¶„)ìœ¼ë¡œ ì¦ê°€
2. í…ŒìŠ¤íŠ¸ íŒŒì¼ì´ ./e2e/ ê²½ë¡œì— ìˆëŠ”ì§€ í™•ì¸
3. --timeout ì˜µì…˜ìœ¼ë¡œ ì „ì²´ íƒ€ì„ì•„ì›ƒ ì¦ê°€
```

---

## ğŸ”§ ë””ë²„ê¹… íŒ

### Console ë¡œê·¸ í™•ì¸
```typescript
// í…ŒìŠ¤íŠ¸ ì½”ë“œì— Console ë¡œê·¸ ìº¡ì²˜ ì¶”ê°€
page.on('console', msg => {
  console.log(`${msg.type()}: ${msg.text()}`)
})

// ì—ëŸ¬ë§Œ ìº¡ì²˜
page.on('console', msg => {
  if (msg.type() === 'error') {
    console.error('Console error:', msg.text())
  }
})
```

### Network ìš”ì²­ ì¶”ì 
```typescript
// API ìš”ì²­ ëª¨ë‹ˆí„°ë§
page.on('request', request => {
  if (request.url().includes('/api/')) {
    console.log('API Request:', request.url())
  }
})

// ì‘ë‹µ í™•ì¸
page.on('response', response => {
  if (response.url().includes('/api/') && response.status() !== 200) {
    console.error('API Error:', response.url(), response.status())
  }
})
```

---

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ ì „ í™•ì¸:
- [ ] ê°œë°œ ì„œë²„ ì‹¤í–‰ ì¤‘ (npm run dev)
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ (.env.local)
- [ ] í…ŒìŠ¤íŠ¸ íŒŒì¼ ìœ„ì¹˜ í™•ì¸ (./e2e/)
- [ ] í¬íŠ¸ 3000 ì‚¬ìš© ê°€ëŠ¥

í…ŒìŠ¤íŠ¸ ì¤‘ í™•ì¸:
- [ ] Console ì—ëŸ¬ ì—†ìŒ
- [ ] Network ì‹¤íŒ¨ ì—†ìŒ
- [ ] ì •ìƒì ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸
- [ ] ì„¸ì…˜ ìœ ì§€ í™•ì¸

í…ŒìŠ¤íŠ¸ í›„ í™•ì¸:
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì‹¤í–‰ ë¡œê·¸ ì €ì¥
- [ ] ë¬¸ì œ ë°œê²¬ ì‹œ ë¬¸ì„œ ì—…ë°ì´íŠ¸

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ ëª…ë ¹

```bash
# 1. ê°œë°œ í™˜ê²½ ì¤€ë¹„
npm run dev

# 2. í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ìœ¼ë¡œ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸
open http://localhost:3000/auth/login
# "ğŸ§ª í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­

# 3. E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx playwright test e2e/auth.spec.ts --project=chromium

# 4. ê²°ê³¼ í™•ì¸
npx playwright show-report
```

---

## ğŸ“ ì¶”ê°€ ì •ë³´

- Supabase Dashboard: https://supabase.com/dashboard
- ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”: https://developers.kakao.com
- Playwright ë¬¸ì„œ: https://playwright.dev

---

## ğŸ”¥ ì¤‘ìš” ì •ë³´ ìš”ì•½ (ë¹ ë¥¸ ì°¸ì¡°ìš©)

### ì‹¤ì œ ì¹´ì¹´ì˜¤ ê³„ì •
```
ID: glemfkcl@naver.com
PW: dhfl9909
```

### ë¡œê·¸ì¸ ë²„íŠ¼ ì°¾ê¸°
```typescript
// Playwright selector
page.locator('button:has-text("ì¹´ì¹´ì˜¤")')
```

### ëŒ€ê¸° ì‹œê°„
```typescript
// ì¹´ì¹´ì˜¤ OAuthëŠ” 1ë¶„ ì •ë„ ëŒ€ê¸° í•„ìš”
await page.waitForTimeout(60000)
```

---

*ì´ ë¬¸ì„œëŠ” ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ ì‹œ ë°˜ë“œì‹œ ì°¸ì¡°ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.*
*ì—…ë°ì´íŠ¸: 2025-08-28*