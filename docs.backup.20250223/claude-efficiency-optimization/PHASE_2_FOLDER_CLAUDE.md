/sc:implement --seq --validate --delegate folders --c7
"Phase 2: 12ê°œ í´ë”ë³„ CLAUDE.md êµ¬í˜„"

# Phase 2: í´ë”ë³„ CLAUDE.md êµ¬í˜„

## ğŸš¨ í”„ë¡œì íŠ¸ íŠ¹í™” ê·œì¹™ í™•ì¸ (í•„ìˆ˜)
âš ï¸ **ê²½ê³ **: ì•„ë˜ ë¬¸ì„œ ë¯¸í™•ì¸ ì‹œ í”„ë¡œì íŠ¸ íŒŒê´´ ê°€ëŠ¥ì„± 90%

### ìµœìš°ì„  í™•ì¸ ë¬¸ì„œ
- [ ] `/docs/CONTEXT_BRIDGE.md` - í”„ë¡œì íŠ¸ íŠ¹í™” ê·œì¹™
- [ ] Phase 1 ë¶„ì„ ë³´ê³ ì„œ - ìš°ì„ ìˆœìœ„ í™•ì¸
- [ ] ê° í´ë”ì˜ ê¸°ì¡´ íŒŒì¼ êµ¬ì¡°

## ğŸ“Œ Phase ì •ë³´
- **Phase ë²ˆí˜¸**: 2/4
- **ì„ í–‰ ì¡°ê±´**: Phase 1 ì™„ë£Œ
- **ì˜ˆìƒ ì‹œê°„**: 3ì‹œê°„
- **ìš°ì„ ìˆœìœ„**: CRITICAL
- **ì‘ì—… ë²”ìœ„**: 12ê°œ CLAUDE.md íŒŒì¼ ìƒì„±/ê°œì„ 

## ğŸ¯ Phase ëª©í‘œ
1. 12ê°œ í´ë”ë³„ CLAUDE.md ìƒì„±
2. 5W1H êµ¬ì¡° ì ìš©
3. Quick Reference ì„¹ì…˜ ì¶”ê°€
4. Tool Usage Matrix êµ¬í˜„

## ğŸ“ ì‘ì—… ë‚´ìš©

### í´ë”ë³„ CLAUDE.md í…œí”Œë¦¿
```markdown
# ğŸ“‚ [í´ë”ëª…] ê°œë°œ ê°€ì´ë“œ

## ğŸ¯ 5W1H ë¶„ì„
- **What**: [ì´ í´ë”ì˜ ì—­í• ]
- **Why**: [ì™œ í•„ìš”í•œê°€]
- **When**: [ì–¸ì œ ì‚¬ìš©ë˜ëŠ”ê°€]
- **Where**: [í”„ë¡œì íŠ¸ ë‚´ ìœ„ì¹˜]
- **Who**: [ëˆ„ê°€ ì‚¬ìš©í•˜ëŠ”ê°€]
- **How**: [ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€]

## ğŸ“ í´ë” êµ¬ì¡°
\`\`\`
[í´ë”]/
â”œâ”€â”€ [ì£¼ìš” íŒŒì¼ 1]     # [ìš©ë„]
â”œâ”€â”€ [ì£¼ìš” íŒŒì¼ 2]     # [ìš©ë„]
â””â”€â”€ [í•˜ìœ„ í´ë”]/      # [ìš©ë„]
\`\`\`

## ğŸ¯ Quick Reference
### ê°€ì¥ ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ (ë³µì‚¬ìš©)
\`\`\`typescript
// íŒ¨í„´ 1: [ì„¤ëª…]
[ì½”ë“œ]

// íŒ¨í„´ 2: [ì„¤ëª…]
[ì½”ë“œ]
\`\`\`

## ğŸ› ï¸ Tool Usage Matrix
| ì‘ì—… | ë„êµ¬/ë¼ì´ë¸ŒëŸ¬ë¦¬ | ì‚¬ìš©ë²• | NPM Script |
|------|----------------|--------|------------|
| [ì‘ì—…1] | [ë„êµ¬] | [ì‚¬ìš©ë²•] | npm run [ìŠ¤í¬ë¦½íŠ¸] |

## ğŸ”— ì˜ì¡´ì„± ê´€ê³„
### Dependencies (ì´ í´ë”ê°€ ì‚¬ìš©)
- [ê²½ë¡œ]: [ìš©ë„]

### Dependents (ì´ í´ë”ë¥¼ ì‚¬ìš©)
- [ê²½ë¡œ]: [ìš©ë„]

### âš ï¸ ìˆœí™˜ ì˜ì¡´ ë°©ì§€
- [ê·œì¹™ 1]
- [ê·œì¹™ 2]

## ğŸš€ ì‘ì—… ì‹œë‚˜ë¦¬ì˜¤
### ìƒˆ [ê¸°ëŠ¥] ì¶”ê°€ ì‹œ
1. âœ… [ë‹¨ê³„ 1]
2. âœ… [ë‹¨ê³„ 2]
3. âœ… [ë‹¨ê³„ 3]

## âŒ ìì£¼ ë°œìƒí•˜ëŠ” ì—ëŸ¬ & ì¦‰ì‹œ í•´ê²°ë²•
| ì—ëŸ¬ | ì›ì¸ | í•´ê²° |
|------|------|------|
| [ì—ëŸ¬1] | [ì›ì¸] | [í•´ê²°ë²•] |
```

### êµ¬í˜„ ìˆœì„œ (ìš°ì„ ìˆœìœ„ë³„)

#### 1. src/app/api/CLAUDE.md
```markdown
# ğŸ“‚ API Routes ê°œë°œ ê°€ì´ë“œ

## ğŸ¯ 5W1H ë¶„ì„
- **What**: Next.js API Route í•¸ë“¤ëŸ¬ë“¤
- **Why**: ì„œë²„ì‚¬ì´ë“œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
- **When**: í´ë¼ì´ì–¸íŠ¸ê°€ ë°ì´í„° ìš”ì²­ ì‹œ
- **Where**: /api/* ê²½ë¡œë¡œ ì ‘ê·¼
- **Who**: Client Components, React Query hooks
- **How**: NextResponse.json()ìœ¼ë¡œ ì‘ë‹µ

## ğŸ“ í´ë” êµ¬ì¡°
\`\`\`
src/app/api/
â”œâ”€â”€ auth/           # ì¸ì¦ ê´€ë ¨ API
â”‚   â”œâ”€â”€ login/
â”‚   â””â”€â”€ logout/
â”œâ”€â”€ youtube/        # YouTube ê´€ë ¨ API
â”‚   â”œâ”€â”€ search/
â”‚   â””â”€â”€ popular/
â””â”€â”€ user/          # ì‚¬ìš©ì ê´€ë ¨ API
\`\`\`

## ğŸ¯ Quick Reference
### ê°€ì¥ ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ (ë³µì‚¬ìš©)
\`\`\`typescript
// 1. ì¸ì¦ëœ GET ìš”ì²­
export async function GET(): Promise<NextResponse> {
  const supabase = await createSupabaseRouteHandlerClient();
  const { data: { user } } = await supabase.auth.getUser();
  if (!user) return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
  // ë¡œì§
}

// 2. Zod ê²€ì¦ POST
export async function POST(request: Request): Promise<NextResponse> {
  const validation = await validateRequestBody(request, schema);
  if (!validation.success) return createValidationErrorResponse(validation.error);
  // ë¡œì§
}
\`\`\`

## ğŸ› ï¸ Tool Usage Matrix
| ì‘ì—… | ë„êµ¬/ë¼ì´ë¸ŒëŸ¬ë¦¬ | ì‚¬ìš©ë²• | NPM Script |
|------|----------------|--------|------------|
| ê²€ì¦ | Zod v4 | validateRequestBody() | npm run verify:api |
| ì¸ì¦ | Supabase Auth | getUser() | - |
| íƒ€ì… ì²´í¬ | TypeScript | tsc | npm run types:check |
| í…ŒìŠ¤íŠ¸ | Vitest | vitest | npm run test |

## ğŸ”— ì˜ì¡´ì„± ê´€ê³„
### Dependencies (ì´ í´ë”ê°€ ì‚¬ìš©)
- `/lib/supabase/`: Supabase í´ë¼ì´ì–¸íŠ¸
- `/lib/security/`: ê²€ì¦ ìŠ¤í‚¤ë§ˆ
- `/types/`: TypeScript íƒ€ì…

### Dependents (ì´ í´ë”ë¥¼ ì‚¬ìš©)
- `/hooks/queries/`: React Query í›…
- `/components/`: Client Components

### âš ï¸ ìˆœí™˜ ì˜ì¡´ ë°©ì§€
- API RouteëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ import ê¸ˆì§€
- íƒ€ì…ë§Œ ê³µìœ , ë¡œì§ì€ ë¶„ë¦¬

## ğŸš€ ì‘ì—… ì‹œë‚˜ë¦¬ì˜¤
### ìƒˆ API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ ì‹œ
1. âœ… \`src/app/api/[domain]/[action]/route.ts\` ìƒì„±
2. âœ… ì¸ì¦ ì²´í¬ ì¶”ê°€ (í•„ìˆ˜)
3. âœ… Zod ìŠ¤í‚¤ë§ˆ ì •ì˜
4. âœ… ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„
5. âœ… \`/docs/WIREFRAME.md\` ì—…ë°ì´íŠ¸
6. âœ… í…ŒìŠ¤íŠ¸ ì‘ì„±

## âŒ ìì£¼ ë°œìƒí•˜ëŠ” ì—ëŸ¬ & ì¦‰ì‹œ í•´ê²°ë²•
| ì—ëŸ¬ | ì›ì¸ | í•´ê²° |
|------|------|------|
| \`PKCE flow error\` | auth-helpers ì‚¬ìš© | \`createSupabaseRouteHandlerClient()\` ì‚¬ìš© |
| \`undefined env vars\` | process.env ì§ì ‘ ì ‘ê·¼ | \`import { env } from '@/env'\` |
| \`Type 'Response' is not assignable\` | new Response() ì‚¬ìš© | \`NextResponse.json()\` ì‚¬ìš© |
| \`401 Unauthorized\` | getSession() ì‚¬ìš© | \`getUser()\` ì‚¬ìš© |
```

#### 2-12. ë‚˜ë¨¸ì§€ í´ë”ë“¤ë„ ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ êµ¬í˜„
[ê° í´ë”ë³„ë¡œ íŠ¹í™”ëœ ë‚´ìš©ìœ¼ë¡œ CLAUDE.md ìƒì„±]

## âœ… Phase ì™„ë£Œ ì¡°ê±´
- [ ] 12ê°œ í´ë” ëª¨ë‘ CLAUDE.md ìƒì„±
- [ ] 5W1H ì„¹ì…˜ ì™„ì„±
- [ ] Quick Reference ì½”ë“œ í¬í•¨
- [ ] Tool Usage Matrix ì‘ì„±
- [ ] ì˜ì¡´ì„± ê´€ê³„ ëª…ì‹œ
- [ ] ì—ëŸ¬ í•´ê²°ë²• í¬í•¨

## ğŸ”„ ë¡¤ë°± ì ˆì°¨
```bash
# ìƒì„±ëœ CLAUDE.md íŒŒì¼ë“¤ ì œê±°
find src -name "CLAUDE.md" -type f -exec rm {} \;
find scripts -name "CLAUDE.md" -type f -exec rm {} \;
find tests -name "CLAUDE.md" -type f -exec rm {} \;
```

## â†’ ë‹¤ìŒ Phase
- **íŒŒì¼**: PHASE_3_TECH_STACK.md
- **ì„ í–‰ ì¡°ê±´**: 12ê°œ CLAUDE.md íŒŒì¼ ìƒì„± ì™„ë£Œ