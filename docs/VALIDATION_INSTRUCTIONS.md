# 📋 INSTRUCTION_TEMPLATE_v4.md 검증 지시서

*다음 세션에서 실행할 10개 시나리오 검증 가이드*

---

## 🎯 검증 목표

**목표**: INSTRUCTION_TEMPLATE_v4.md가 100% 성공하는 구현을 달성하는지 검증
**방법**: 10개 실제 시나리오에서 템플릿 적용 → 성공률 측정

---

## ✅ 검증 전 준비사항

### 필수 파일 확인
```bash
# 템플릿 파일 확인
cat docs/INSTRUCTION_TEMPLATE_v4.md

# 프로젝트 상태 확인
cat docs/PROJECT.md

# 검증 시스템 작동 확인
npm run verify:all
```

### 검증 환경 준비
```bash
# 개발 서버 실행
npm run dev

# 테스트 환경 확인
npm run test

# 빌드 가능 여부 확인
npm run build
```

---

## 📊 10개 검증 시나리오

### 시나리오 1: "폴더 메뉴 로그인 화면" (구체적 버그)

**사용자 입력**:
```
"YouTube Lens 폴더 메뉴 클릭하면 로그인 화면으로 가는데 고쳐줘"
```

**검증 체크리스트**:
- [ ] Phase 1: 13개 문서 확인 여부
- [ ] Phase 1: ChannelFolders.tsx 외 10개 이상 파일 Read
- [ ] Phase 2: npm run verify:api 실행
- [ ] Phase 2: 401 에러 정확한 위치 파악 (파일:라인)
- [ ] Phase 3: 구체적 수정 코드 제시
- [ ] Phase 4: 사용자 확인 대기
- [ ] Phase 5: 실제 구현 및 테스트

**성공 기준**: 401 에러 정확히 처리, 로그인 리다이렉트 구현

---

### 시나리오 2: "버튼 추가해줘" (극도로 모호)

**사용자 입력**:
```
"버튼 추가해줘"
```

**검증 체크리스트**:
- [ ] Phase 1: 정보 부족 인식
- [ ] Phase 1: 5가지 이상 구체적 질문 생성
- [ ] "아마도" 사용하지 않음
- [ ] 예시 제공 (마이페이지 프로필 수정 버튼 등)
- [ ] 추측하지 않고 대기

**성공 기준**: 구체적 질문 후 대기, 추측 없음

---

### 시나리오 3: "검색 기능 넣어줘" (부분 명확)

**사용자 입력**:
```
"YouTube Lens에 검색 기능 넣어줘"
```

**검증 체크리스트**:
- [ ] Phase 1: COMPONENT_INVENTORY.md 확인
- [ ] Phase 1: 기존 검색 패턴 5개 이상 분석
- [ ] Phase 2: verify:ui 실행
- [ ] Phase 3: UI + API + 상태관리 전체 계획
- [ ] Phase 4: 검색 대상, 위치, 디자인 확인
- [ ] shadcn/ui 컴포넌트 활용 계획

**성공 기준**: 완전한 기능 구현 계획 (컴포넌트만 X)

---

### 시나리오 4: "이거 왜 안 돼?" (정보 부족)

**사용자 입력**:
```
"이거 왜 안 돼?"
```

**검증 체크리스트**:
- [ ] 체계적 진단 프로세스 시작
- [ ] 증상, 위치, 시점 질문
- [ ] npm run verify:all 제안
- [ ] 브라우저 콘솔, Network 탭 확인 안내
- [ ] 추측 없이 정보 수집

**성공 기준**: 체계적 정보 수집 프로세스 진행

---

### 시나리오 5: "느려" (성능 문제)

**사용자 입력**:
```
"사이트가 너무 느려"
```

**검증 체크리스트**:
- [ ] Phase 1: 어느 페이지인지 확인
- [ ] Phase 2: 성능 측정 도구 실행
- [ ] npm run build 후 번들 크기 확인
- [ ] Lighthouse 점수 측정 제안
- [ ] 구체적 병목 지점 파악

**성공 기준**: 측정 가능한 성능 지표 기반 분석

---

### 시나리오 6: "새 테이블 만들어" (DB 작업)

**사용자 입력**:
```
"YouTube 비디오 메모 저장할 테이블 만들어줘"
```

**검증 체크리스트**:
- [ ] Phase 1: DATA_MODEL.md 확인
- [ ] Phase 1: 기존 테이블 구조 분석
- [ ] RLS 정책 필수 포함
- [ ] 타입 생성 프로세스 포함
- [ ] 마이그레이션 파일 생성

**성공 기준**: 보안 정책 포함한 완전한 테이블 생성

---

### 시나리오 7: "다크모드 추가" (시스템 레벨)

**사용자 입력**:
```
"다크모드 추가해줘"
```

**검증 체크리스트**:
- [ ] Phase 1: 전체 컴포넌트 영향 분석
- [ ] Phase 1: Tailwind 다크모드 설정 확인
- [ ] STATE_FLOW.md 상태 관리 계획
- [ ] 10개 이상 컴포넌트 수정 계획
- [ ] 시스템 설정 저장 방식 결정

**성공 기준**: 시스템 전체 영향 분석 및 계획

---

### 시나리오 8: "회원가입 만들어" (복잡한 플로우)

**사용자 입력**:
```
"이메일로 회원가입 기능 만들어줘"
```

**검증 체크리스트**:
- [ ] Phase 1: FLOWMAP.md 전체 플로우 확인
- [ ] Phase 1: 현재 인증 시스템 분석
- [ ] Supabase Auth 설정 확인
- [ ] UI + API + DB + 이메일 전체 계획
- [ ] 보안 검증 포함

**성공 기준**: 전체 플로우 완전 구현 계획

---

### 시나리오 9: "에러 나" (디버깅 필요)

**사용자 입력**:
```
"즐겨찾기 추가하면 에러 나"
```

**검증 체크리스트**:
- [ ] Phase 1: favorites 관련 파일 전체 검색
- [ ] Phase 2: npm run verify:api 실행
- [ ] 에러 재현 시도
- [ ] 정확한 에러 메시지 확인
- [ ] 스택 트레이스 분석

**성공 기준**: 에러 원인 정확히 파악 및 해결

---

### 시나리오 10: "전체적으로 개선" (범위 불명확)

**사용자 입력**:
```
"YouTube Lens 전체적으로 개선해줘"
```

**검증 체크리스트**:
- [ ] 개선 영역 구체화 질문
- [ ] 성능, UI/UX, 기능, 보안 중 우선순위
- [ ] 측정 가능한 개선 지표 제시
- [ ] 단계별 개선 계획 제안
- [ ] 추측 없이 명확화 요청

**성공 기준**: 구체적 범위 확인 후 계획

---

## 📝 검증 실행 방법

### 각 시나리오별 실행
```markdown
1. 사용자 입력 제시
2. INSTRUCTION_TEMPLATE_v4.md Phase 1-5 따라 진행
3. 각 Phase별 체크리스트 확인
4. 성공/실패 기록
5. 실패 시 원인 분석
```

### 성공률 측정
```markdown
통과 시나리오: X/10
부분 통과: Y/10
실패: Z/10

성공률 = (X + Y*0.5) / 10 * 100%
```

---

## 🎯 핵심 검증 포인트

### 반드시 확인할 것
1. **추측 금지**: "아마도", "추정", "~일 것입니다" 사용 여부
2. **깊이 있는 분석**: 파일 10개 이상 확인 여부
3. **증거 기반**: 테스트 결과, 파일:라인 명시 여부
4. **완전한 구현**: UI + API + DB + 타입 + 테스트 전체 계획
5. **사용자 확인**: Phase 4 확인 대기 여부

### 실패 패턴 감지
- [ ] 2-3개 파일만 확인하고 "전체 확인" 주장
- [ ] 테스트 없이 "완료" 선언
- [ ] 컴포넌트만 만들고 끝
- [ ] 바로 구현 시작 (지시서 없이)
- [ ] 정보 부족한데 추측으로 진행

---

## 📊 검증 결과 기록 템플릿

```markdown
## 시나리오 X: [제목]
- 입력: [사용자 입력]
- Phase 1: ✅/❌ [수행 내용]
- Phase 2: ✅/❌ [테스트 결과]
- Phase 3: ✅/❌ [지시서 품질]
- Phase 4: ✅/❌ [확인 대기]
- Phase 5: ✅/❌ [구현 완료]
- 성공 여부: PASS/FAIL
- 실패 원인: [구체적 원인]
- 개선 필요: [템플릿 수정 사항]
```

---

## 🔄 재귀적 개선 프로세스

### 실패 시
1. 실패 원인 정확히 분석
2. INSTRUCTION_TEMPLATE_v4.md 해당 부분 강화
3. 동일 시나리오 재테스트
4. 100% 통과까지 반복

### 개선 기록
```markdown
v4.0 → v4.1: [개선 내용]
v4.1 → v4.2: [추가 개선]
```

---

## ✅ 최종 체크리스트

### 검증 완료 기준
- [ ] 10개 시나리오 모두 실행
- [ ] 성공률 90% 이상 달성
- [ ] 실패 원인 모두 문서화
- [ ] 개선 사항 반영 완료
- [ ] 최종 버전 저장

### 다음 단계
1. 실제 프로젝트 적용
2. 추가 엣지 케이스 수집
3. 지속적 개선

---

*이 지시서로 INSTRUCTION_TEMPLATE_v4.md의 효과성을 완전히 검증한다*