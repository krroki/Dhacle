âš ï¸ ================================ PHASE 0 ì—…ë°ì´íŠ¸ ================================ âš ï¸
âš ï¸ ì´ ë¬¸ì„œëŠ” ì›ë˜ ê³„íšì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ ë³€ê²½ì‚¬í•­ì„ ë°˜ì˜í•œ ì—…ë°ì´íŠ¸ëœ ê³„íšì€       âš ï¸
âš ï¸ /docs/claude-md-restructure/PHASE_0_PLAN_UPDATE.md ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.              âš ï¸
âš ï¸ ì£¼ìš” ë³€ê²½: 1800ì¤„ â†’ 1111ì¤„, React Query/env.ts ì„¹ì…˜ ì¶”ê°€, 14ê°œ í´ë”ë¡œ í™•ì¥    âš ï¸
âš ï¸ ================================================================================ âš ï¸

â— ğŸ“Š í´ë”ë³„ CLAUDE.md ì‹œìŠ¤í…œ ë„ì… ìµœì¢… ë³´ê³ ì„œ

  1. ê°œìš”

  1.1 ì œì•ˆ ë°°ê²½

  - í˜„ì¬ ìƒí™©: ë‹¨ì¼ CLAUDE.md 1,800ì¤„ + 14ê°œ ë¬¸ì„œ ì²´ê³„
  - ë¬¸ì œì : Claude Codeê°€ ëª¨ë“  ì‘ì—…ì— ì „ì²´ ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ (ë¹„íš¨ìœ¨)
  - í•´ê²°ì±…: í´ë”ë³„ CLAUDE.md ë¶„ì‚° ì‹œìŠ¤í…œ (ì»¨í…ìŠ¤íŠ¸ ìµœì í™”)

  1.2 í•µì‹¬ ëª©í‘œ

  - ê¸°ì¡´ 1,800ì¤„ ë‚´ìš© 100% ë³´ì¡´í•˜ë©° ì¬ë°°ì¹˜
  - ì‘ì—…ë³„ í•„ìš” ì •ë³´ë§Œ ë¡œë“œ (í† í° 80% ì ˆì•½)
  - ì‹¤ì‹œê°„ ê·œì¹™ ìœ„ë°˜ ê°ì§€ ì‹œìŠ¤í…œ êµ¬ì¶•

  2. ê¸°ìˆ ì  íƒ€ë‹¹ì„± ê²€ì¦

  2.1 Claude Code í´ë”ë³„ CLAUDE.md ì§€ì›

  ê²€ì¦_ê²°ê³¼:
    ì§€ì›_ì—¬ë¶€: âœ… ì™„ë²½ ì§€ì›
    ë™ì‘_ë°©ì‹:
      - ë£¨íŠ¸ CLAUDE.md: í•­ìƒ ë¡œë“œ
      - í´ë”ë³„ CLAUDE.md: í•´ë‹¹ í´ë” ì‘ì—… ì‹œ ì¶”ê°€ ë¡œë“œ
      - ìš°ì„ ìˆœìœ„: í•˜ìœ„ í´ë” > ìƒìœ„ í´ë”

  2.2 ì‹¤ì‹œê°„ ê·œì¹™ ìœ„ë°˜ ê°ì§€ ê°€ëŠ¥ì„±

  í˜„ì‹¤ì„±_í‰ê°€:
    Pre-commit_Hook: âœ… ê°€ëŠ¥ (í˜„ì¬ë„ ì‚¬ìš© ì¤‘)
    Save_ì‹œ_ê²€ì‚¬: âš ï¸ VSCode Extension í•„ìš”
    ì‹¤ì‹œê°„_í•˜ì´ë¼ì´íŒ…: âŒ ë¶ˆê°€ëŠ¥ (Claude Code API í•œê³„)

  ì‹¤í˜„_ê°€ëŠ¥í•œ_ë°©ì‹:
    - Git Hook ê¸°ë°˜ ê²€ì‚¬ (ì»¤ë°‹ ì‹œ)
    - npm run verify ëª…ë ¹ì–´ (ìˆ˜ë™ ì‹¤í–‰)
    - CI/CD íŒŒì´í”„ë¼ì¸ (ìë™ ê²€ì¦)

  3. êµ¬í˜„ ì „ëµ (ì¼ê´„ ë³€ê²½)

  3.1 í´ë” êµ¬ì¡° ë° ë‚´ìš© ë°°ë¶„

  í”„ë¡œì íŠ¸ ë£¨íŠ¸/
  â”œâ”€â”€ CLAUDE.md (200ì¤„ - ë„¤ë¹„ê²Œì´ì…˜ ë° ì ˆëŒ€ ê¸ˆì§€ì‚¬í•­ë§Œ)
  â”‚   â”œâ”€â”€ ğŸš¨ 10ê°œ ì ˆëŒ€ ê¸ˆì§€ì‚¬í•­
  â”‚   â”œâ”€â”€ ğŸ“ í´ë”ë³„ CLAUDE.md ë§µ
  â”‚   â””â”€â”€ ğŸ”— 14ê°œ í•µì‹¬ ë¬¸ì„œ ë§í¬
  â”‚
  â”œâ”€â”€ src/
  â”‚   â”œâ”€â”€ CLAUDE.md (100ì¤„ - src ì „ì²´ ê³µí†µ)
  â”‚   â”‚
  â”‚   â”œâ”€â”€ app/
  â”‚   â”‚   â”œâ”€â”€ CLAUDE.md (50ì¤„ - App Router ê³µí†µ)
  â”‚   â”‚   â”œâ”€â”€ api/
  â”‚   â”‚   â”‚   â””â”€â”€ CLAUDE.md (300ì¤„ - í˜„ì¬ 517-816í–‰ ì´ë™)
  â”‚   â”‚   â””â”€â”€ (pages)/
  â”‚   â”‚       â””â”€â”€ CLAUDE.md (150ì¤„ - í˜„ì¬ 817-966í–‰ ì´ë™)
  â”‚   â”‚
  â”‚   â”œâ”€â”€ components/
  â”‚   â”‚   â””â”€â”€ CLAUDE.md (200ì¤„ - í˜„ì¬ 967-1166í–‰ ì´ë™)
  â”‚   â”‚
  â”‚   â”œâ”€â”€ lib/
  â”‚   â”‚   â”œâ”€â”€ CLAUDE.md (50ì¤„ - lib ê³µí†µ)
  â”‚   â”‚   â”œâ”€â”€ supabase/
  â”‚   â”‚   â”‚   â””â”€â”€ CLAUDE.md (250ì¤„ - í˜„ì¬ 462-711í–‰ ì´ë™)
  â”‚   â”‚   â”œâ”€â”€ security/
  â”‚   â”‚   â”‚   â””â”€â”€ CLAUDE.md (200ì¤„ - í˜„ì¬ 712-911í–‰ ì´ë™)
  â”‚   â”‚   â””â”€â”€ api-client.ts
  â”‚   â”‚       â””â”€â”€ CLAUDE.md (100ì¤„ - í˜„ì¬ 300-399í–‰ ì´ë™)
  â”‚   â”‚
  â”‚   â””â”€â”€ types/
  â”‚       â””â”€â”€ CLAUDE.md (200ì¤„ - í˜„ì¬ 327-526í–‰ ì´ë™)
  â”‚
  â”œâ”€â”€ scripts/
  â”‚   â””â”€â”€ CLAUDE.md (150ì¤„ - í˜„ì¬ 1167-1316í–‰ ì´ë™)
  â”‚
  â””â”€â”€ docs/
      â””â”€â”€ CLAUDE.md (100ì¤„ - í˜„ì¬ 1317-1416í–‰ ì´ë™)

  3.2 ë‚´ìš© ë³´ì¡´ ë§¤í•‘í‘œ

  | í˜„ì¬ ìœ„ì¹˜ (ì¤„ë²ˆí˜¸) | ì´ë™ ìœ„ì¹˜                       | ë‚´ìš©               |
  |-------------|-----------------------------|------------------|
  | 1-71        | /CLAUDE.md                  | ìµœìš°ì„  í•„ìˆ˜ ìˆ˜ì¹™        |
  | 72-98       | /scripts/CLAUDE.md          | ìë™ ìŠ¤í¬ë¦½íŠ¸ ê¸ˆì§€       |
  | 99-326      | /src/CLAUDE.md              | ì½”ë“œ ì‘ì„± ê·œì¹™         |
  | 327-416     | /src/types/CLAUDE.md        | TypeScript íƒ€ì… ê´€ë¦¬ |
  | 417-461     | /src/lib/CLAUDE.md          | í™˜ê²½ë³€ìˆ˜ ì‹œìŠ¤í…œ         |
  | 462-516     | /src/lib/supabase/CLAUDE.md | Supabase í´ë¼ì´ì–¸íŠ¸   |
  | 517-616     | /src/app/api/CLAUDE.md      | API Route ê·œì¹™     |
  | 617-716     | /src/lib/security/CLAUDE.md | ë³´ì•ˆ ê·œì¹™            |
  | 717-816     | /src/lib/CLAUDE.md          | ì½”ë“œ í’ˆì§ˆ ë„êµ¬         |
  | 817-916     | /scripts/CLAUDE.md          | SQL ì‹¤í–‰ ì‹œìŠ¤í…œ       |
  | 917-1016    | /src/CLAUDE.md              | íŒŒì¼ ì‘ì—… ê·œì¹™         |
  | 1017-1416   | ê° í•´ë‹¹ í´ë”                     | ì¸ì¦/ë³´ì•ˆ í”„ë¡œí† ì½œ       |
  | 1417-1516   | /docs/CLAUDE.md             | ì‘ì—… í”„ë¡œì„¸ìŠ¤          |
  | 1517-1616   | /src/components/CLAUDE.md   | í…ŒìŠ¤íŠ¸ ê·œì¹™           |
  | 1617-1716   | /scripts/CLAUDE.md          | ê²€ì¦ ì‹œìŠ¤í…œ           |
  | 1717-1800   | /CLAUDE.md                  | Git/ë¬¸ì„œ ê·œì¹™        |

  4. ì‹¤í–‰ ê³„íš

  4.1 Day 1: ì¼ê´„ ë§ˆì´ê·¸ë ˆì´ì…˜ (4ì‹œê°„)

  # Step 1: ë°±ì—… (10ë¶„)
  git checkout -b feature/claude-md-restructure
  cp CLAUDE.md CLAUDE.md.backup.$(date +%Y%m%d)
  cp -r docs docs.backup.$(date +%Y%m%d)

  # Step 2: í´ë”ë³„ CLAUDE.md ìƒì„± (30ë¶„)
  mkdir -p src/app/api src/lib/supabase src/lib/security src/types scripts
  touch src/CLAUDE.md src/app/CLAUDE.md src/app/api/CLAUDE.md
  touch src/lib/CLAUDE.md src/lib/supabase/CLAUDE.md src/lib/security/CLAUDE.md
  touch src/types/CLAUDE.md src/components/CLAUDE.md scripts/CLAUDE.md docs/CLAUDE.md

  # Step 3: ë‚´ìš© ì´ë™ (2ì‹œê°„)
  # ë§¤í•‘í‘œì— ë”°ë¼ ê° ì„¹ì…˜ì„ í•´ë‹¹ í´ë”ë¡œ ì´ë™
  # ì›ë³¸ ì¤„ë²ˆí˜¸ ì£¼ì„ìœ¼ë¡œ í‘œì‹œ

  # Step 4: ë£¨íŠ¸ CLAUDE.md ì¬êµ¬ì„± (30ë¶„)
  # 200ì¤„ë¡œ ì¶•ì†Œ, ë„¤ë¹„ê²Œì´ì…˜ ì—­í• 

  # Step 5: ê²€ì¦ (50ë¶„)
  # ëª¨ë“  ë‚´ìš©ì´ ë³´ì¡´ë˜ì—ˆëŠ”ì§€ í™•ì¸
  diff CLAUDE.md.backup ./*/CLAUDE.md | wc -l  # 0ì´ì–´ì•¼ í•¨

  4.2 ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

  // scripts/verify-claude-migration.ts
  import fs from 'fs';
  import path from 'path';

  function verifyMigration() {
    const originalContent = fs.readFileSync('CLAUDE.md.backup', 'utf-8');
    const originalLines = originalContent.split('\n');

    const newFiles = [
      '/CLAUDE.md',
      '/src/CLAUDE.md',
      '/src/app/api/CLAUDE.md',
      '/src/lib/supabase/CLAUDE.md',
      // ... ëª¨ë“  ìƒˆ íŒŒì¼
    ];

    let newContent = '';
    for (const file of newFiles) {
      if (fs.existsSync(file)) {
        newContent += fs.readFileSync(file, 'utf-8') + '\n';
      }
    }

    // ëª¨ë“  ì›ë³¸ ë‚´ìš©ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
    for (const line of originalLines) {
      if (line.trim() && !newContent.includes(line)) {
        console.error(`ëˆ„ë½ëœ ë‚´ìš©: ${line}`);
        return false;
      }
    }

    console.log('âœ… ëª¨ë“  ë‚´ìš©ì´ ì„±ê³µì ìœ¼ë¡œ ì´ë™ë¨');
    return true;
  }

  5. ì‹¤ì‹œê°„ ê·œì¹™ ìœ„ë°˜ ê°ì§€ êµ¬í˜„

  5.1 Pre-commit Hook ê°•í™”

  #!/bin/bash
  # .husky/pre-commit

  # í˜„ì¬ ì‘ì—… í´ë” ê°ì§€
  CHANGED_FILES=$(git diff --cached --name-only)

  for FILE in $CHANGED_FILES; do
    DIR=$(dirname "$FILE")

    # í•´ë‹¹ í´ë”ì˜ CLAUDE.md ì°¾ê¸°
    CLAUDE_FILE="$DIR/CLAUDE.md"
    while [ ! -f "$CLAUDE_FILE" ] && [ "$DIR" != "." ]; do
      DIR=$(dirname "$DIR")
      CLAUDE_FILE="$DIR/CLAUDE.md"
    done

    # ê·œì¹™ ê²€ì‚¬
    if [ -f "$CLAUDE_FILE" ]; then
      node scripts/check-rules.js "$FILE" "$CLAUDE_FILE"
      if [ $? -ne 0 ]; then
        echo "âŒ $FILEì´ $CLAUDE_FILE ê·œì¹™ ìœ„ë°˜"
        exit 1
      fi
    fi
  done

  5.2 VS Code íƒœìŠ¤í¬ ì„¤ì •

  // .vscode/tasks.json
  {
    "version": "2.0.0",
    "tasks": [
      {
        "label": "Check CLAUDE.md Rules",
        "type": "shell",
        "command": "node scripts/check-current-file-rules.js ${file}",
        "problemMatcher": [],
        "presentation": {
          "reveal": "silent",
          "panel": "dedicated"
        },
        "runOptions": {
          "runOn": "folderOpen"
        }
      }
    ]
  }

  6. ì˜ˆìƒ íš¨ê³¼

  6.1 ì •ëŸ‰ì  íš¨ê³¼

  | ì§€í‘œ         | í˜„ì¬     | ê°œì„  í›„     | ê°œì„ ìœ¨    |
  |------------|--------|----------|--------|
  | í‰ê·  ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ | 1,800ì¤„ | 200-300ì¤„ | 85% ê°ì†Œ |
  | í† í° ì‚¬ìš©ëŸ‰     | ~15K   | ~3K      | 80% ê°ì†Œ |
  | ê·œì¹™ ê²€ìƒ‰ ì‹œê°„   | 2-3ë¶„   | ì¦‰ì‹œ       | 95% ë‹¨ì¶• |
  | ê´€ë ¨ ê·œì¹™ ì •í™•ë„  | 60%    | 95%      | 35% í–¥ìƒ |

  6.2 ì •ì„±ì  íš¨ê³¼

  - Claude Code ì‘ë‹µ ì†ë„ í–¥ìƒ
  - ê´€ë ¨ ê·œì¹™ë§Œ ì°¸ì¡°í•˜ì—¬ ì •í™•ë„ ìƒìŠ¹
  - í´ë”ë³„ ì „ë¬¸í™”ëœ ì§€ì¹¨ ì œê³µ
  - ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„± ì¦ê°€

  7. ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘ ë°©ì•ˆ

  7.1 ì‹ë³„ëœ ë¦¬ìŠ¤í¬

  | ë¦¬ìŠ¤í¬               | ë°œìƒ í™•ë¥  | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ            |
  |-------------------|-------|-----|------------------|
  | ë‚´ìš© ëˆ„ë½             | ë‚®ìŒ    | ë†’ìŒ  | ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ë¡œ 100% í™•ì¸ |
  | ì¤‘ë³µ ê·œì¹™             | ì¤‘ê°„    | ë‚®ìŒ  | ì •ê¸°ì  ì¤‘ë³µ ì œê±°        |
  | Claude Code ì¸ì‹ ì‹¤íŒ¨ | ë‚®ìŒ    | ë†’ìŒ  | ë°±ì—…ìœ¼ë¡œ ì¦‰ì‹œ ë³µêµ¬       |

  7.2 ë¡¤ë°± ê³„íš

  # ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ë¡¤ë°±
  git checkout CLAUDE.md.backup.20250131 CLAUDE.md
  rm -f src/**/CLAUDE.md
  git checkout main -- docs/

  8. ê²°ë¡  ë° ê¶Œê³ ì‚¬í•­

  8.1 ê²°ë¡ 

  - ê¸°ìˆ ì  íƒ€ë‹¹ì„±: âœ… Claude Codeê°€ ì™„ë²½ ì§€ì›
  - ë‚´ìš© ë³´ì¡´: âœ… 100% ë³´ì¡´ ê°€ëŠ¥ (ê²€ì¦ ê°€ëŠ¥)
  - ì‹¤ì‹œê°„ ê°ì§€: âš ï¸ Pre-commit ìˆ˜ì¤€ì—ì„œ ê°€ëŠ¥
  - ì¼ê´„ ë³€ê²½: âœ… 4ì‹œê°„ ë‚´ ì™„ë£Œ ê°€ëŠ¥