# âœ… ë””í•˜í´(Dhacle) í”„ë¡œì íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

_ëª©ì : ì‘ì—… ì™„ë£Œ í›„ ê²€ì¦í•´ì•¼ í•  í•­ëª©ë“¤_
_ì—…ë°ì´íŠ¸: ìƒˆë¡œìš´ ê²€ì¦ í•­ëª© ì¶”ê°€ ì‹œ_

> **ê´€ë ¨ ë¬¸ì„œ**:
>
> - í”„ë¡œì íŠ¸ í˜„í™©: `/docs/PROJECT.md`
> - í”„ë¡œì íŠ¸ êµ¬ì¡°: `/docs/CODEMAP.md`
> - AI ì‘ì—… ì§€ì¹¨: `/CLAUDE.md`

---

## ğŸ†• ìƒˆ íŒŒì¼ ìƒì„± ì‹œ ë³´ì•ˆ ìë™ ì ìš© ì²´í¬ë¦¬ìŠ¤íŠ¸

### API Route ìƒì„± ì‹œ (í•„ìˆ˜)

- [ ] **ì„¸ì…˜ ê²€ì‚¬ ì½”ë“œ ì¶”ê°€** (íŒŒì¼ ìµœìƒë‹¨)
  ```typescript
  const supabase = createRouteHandlerClient({ cookies });
  const {
    data: { user },
  } = await supabase.auth.getUser();
  if (!user) {
    return new Response(JSON.stringify({ error: 'User not authenticated' }), {
      status: 401,
    });
  }
  ```
- [ ] **Zod ìŠ¤í‚¤ë§ˆ ì¶”ê°€** (`/lib/security/validation-schemas.ts`)
- [ ] **ì…ë ¥ ê²€ì¦ ì ìš©**
- [ ] **ì—ëŸ¬ í˜•ì‹ í†µì¼** (`{ error: string }`)

### ìƒˆ í…Œì´ë¸” ìƒì„± ì‹œ (í•„ìˆ˜)

- [ ] **RLS ì¦‰ì‹œ í™œì„±í™”**
  ```sql
  ALTER TABLE í…Œì´ë¸”ëª… ENABLE ROW LEVEL SECURITY;
  ```
- [ ] **ê¸°ë³¸ ì •ì±… 4ê°œ ìƒì„±** (select, insert, update, delete)
- [ ] **user_id ì»¬ëŸ¼ í¬í•¨**
- [ ] **created_at, updated_at ì¶”ê°€**

### ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬ ì‹œ (í•„ìˆ˜)

- [ ] **XSS ë°©ì§€ ì ìš©**
  ```typescript
  import { sanitizeRichHTML } from '@/lib/security/sanitizer';
  const safeContent = sanitizeRichHTML(userInput);
  ```
- [ ] **ì…ë ¥ ê¸¸ì´ ì œí•œ**
- [ ] **íŠ¹ìˆ˜ë¬¸ì ì´ìŠ¤ì¼€ì´í”„**

---

## ğŸ”§ ê°œë°œ ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê¸°ëŠ¥ êµ¬í˜„ í›„

- [ ] TypeScript íƒ€ì… ì²´í¬: `npx tsc --noEmit`
- [ ] ESLint ê²€ì‚¬: `npm run lint`
- [ ] ë¹Œë“œ í…ŒìŠ¤íŠ¸: `npm run build`
- [ ] ì½˜ì†” ì—ëŸ¬ ì—†ìŒ í™•ì¸
- [ ] Network íƒ­ API ì‘ë‹µ í™•ì¸

### TypeScript ë¹Œë“œ ì²´í¬ë¦¬ìŠ¤íŠ¸ (2025-08-19 ê°•í™”)

- [ ] `any` íƒ€ì… ì‚¬ìš© ì—¬ë¶€ ê²€ì‚¬ (**ESLint ì—ëŸ¬ 0ê°œ ë‹¬ì„±**)
- [ ] API í•¨ìˆ˜ ë°˜í™˜ íƒ€ì… ëª…ì‹œ í™•ì¸ (**76ê°œ async í•¨ìˆ˜ íƒ€ì… ì¶”ê°€ ì™„ë£Œ**)
- [ ] ZodError.issues ì‚¬ìš© í™•ì¸ (`.errors` ì•„ë‹˜)
- [ ] unknown íƒ€ì… ì ì ˆí•œ ì²˜ë¦¬ (íƒ€ì… ê°€ë“œ ì‚¬ìš©)
- [ ] npm run build ì„±ê³µ
- [ ] npm run lint ì—ëŸ¬ ì—†ìŒ (**2025-08-19 0ê°œ ë‹¬ì„±**)

### API ì‘ì—… í›„

- [ ] ì„¸ì…˜ ê²€ì‚¬ êµ¬í˜„ (ì„œë²„ ë¼ìš°íŠ¸)
- [ ] 401 ì—ëŸ¬ í‘œì¤€ í˜•ì‹: `{ error: 'User not authenticated' }`
- [ ] api-client.ts ë˜í¼ ì‚¬ìš© (í´ë¼ì´ì–¸íŠ¸)
- [ ] Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì ìš©
- [ ] Rate Limiting ì„¤ì • í™•ì¸
- [ ] **API ì¼ì¹˜ì„± ê²€ì‚¬** (2025-08-19 100% ë‹¬ì„±):

  ```bash
  # ìë™ ê²€ì‚¬ (ë¹Œë“œì— í†µí•©ë¨)
  npm run verify:api  # 38/38 routes í‘œì¤€í™” ì™„ë£Œ

  # âš ï¸ ê²½ê³ : ìë™ ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© ê¸ˆì§€ (ë¹„í™œì„±í™”ë¨)
  # fix-api-consistency.jsëŠ” DEPRECATED - ìˆ˜ë™ ìˆ˜ì • í•„ìˆ˜
  # ë¬¸ì œ ë°œê²¬ ì‹œ ê° íŒŒì¼ì„ ê°œë³„ì ìœ¼ë¡œ ê²€í† í•˜ê³  ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì •
  ```

- [ ] **ì˜¬ë°”ë¥¸ Supabase í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©**:
  - âœ… `createRouteHandlerClient` from '@supabase/auth-helpers-nextjs'
  - âŒ `createServerClient` (ì‚¬ìš© ê¸ˆì§€)
  - âŒ `createServerComponentClient` (ì‚¬ìš© ê¸ˆì§€)

### í…œí”Œë¦¿ ê¸°ë°˜ ì‘ì—… ê²€ì¦ (2025-01-30 ì¶”ê°€)

**DEVELOPMENT-INSTRUCTION-TEMPLATE.md ì‚¬ìš© í›„ í•„ìˆ˜ í™•ì¸**

#### ë¹ ë¥¸ ê²€ì¦ ëª…ë ¹ì–´

```bash
# API ì—”ë“œí¬ì¸íŠ¸ ì¡´ì¬ í™•ì¸
test -f "src/app/api/youtube/folders/route.ts" && echo "âœ… ì¡´ì¬" || echo "âŒ ëˆ„ë½"

# ì»´í¬ë„ŒíŠ¸ê°€ APIë¥¼ í˜¸ì¶œí•˜ëŠ”ì§€ í™•ì¸
grep -r "apiGet.*'/api/youtube/folders'" --include="*.tsx" --include="*.ts"

# ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build
```

#### ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ì§€ì‹œì„œì˜ ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ íŒŒì¼ ì¡´ì¬ í™•ì¸
- [ ] ì»´í¬ë„ŒíŠ¸ì— ì‹¤ì œ ë°ì´í„° props ì „ë‹¬ í™•ì¸ (ë”ë¯¸ ë°ì´í„° âŒ)
- [ ] WIREFRAME.mdì˜ âœ… í‘œì‹œê°€ ì‹¤ì œ êµ¬í˜„ê³¼ ì¼ì¹˜
- [ ] ë¹Œë“œ ì„±ê³µ (`npm run build`)

---

## ğŸ” ìë™ ê²€ì¦ ì‹œìŠ¤í…œ (2025-01-31 ì—…ë°ì´íŠ¸)

### ì½”ë“œ ì¼ê´€ì„± ê²€ì¦ ëª…ë ¹ì–´ (2025-01-31 ì¶”ê°€)

```bash
# ì „ì²´ ì¼ê´€ì„± ê²€ì¦ (5ê°œ ìŠ¤í¬ë¦½íŠ¸ ëª¨ë‘ ì‹¤í–‰)
npm run verify:all

# í•µì‹¬ ê²€ì¦ë§Œ (API + Routes + Types)
npm run verify:critical

# ê°œë³„ ê²€ì¦
npm run verify:api       # API ì¸ì¦ ì¼ì¹˜ì„±
npm run verify:ui        # UI ì»´í¬ë„ŒíŠ¸ ì¼ê´€ì„±
npm run verify:types     # TypeScript íƒ€ì… ì•ˆì •ì„±
npm run verify:routes    # ë¼ìš°íŠ¸ ë³´í˜¸ ìƒíƒœ
npm run verify:runtime   # ëŸ°íƒ€ì„ ì„¤ì • ë° í™˜ê²½ ë³€ìˆ˜
```

### ê°œë°œ ì‹œ ìë™ ê²€ì¦

```bash
# ê°œë°œ ì„œë²„ ì‹œì‘ (ìë™ ê²€ì¦ í¬í•¨)
npm run dev

# ê²€ì¦ ì—†ì´ ê°œë°œ
npm run dev:no-verify
```

### ë¹Œë“œ ì‹œ ì¢…í•© ê²€ì¦

```bash
# ë¡œì»¬ ì „ì²´ í…ŒìŠ¤íŠ¸ (ê²€ì¦ + ë¹Œë“œ)
npm run build:local

# Vercel ë°°í¬ìš© (í™˜ê²½ ìë™ ê°ì§€)
npm run build

# ê²€ì¦ë§Œ ì‹¤í–‰
npm run verify
```

### ëˆ„ë½ API ìë™ ìˆ˜ì •

```bash
# ëˆ„ë½ëœ ì—”ë“œí¬ì¸íŠ¸ ìë™ ìƒì„±
npm run fix:missing-apis
```

### ê²€ì¦ í•­ëª© ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] **API ì¼ê´€ì„±**: createRouteHandlerClient ì‚¬ìš©, getUser() ì‚¬ìš©
- [ ] **UI ì¼ê´€ì„±**: shadcn/ui ì»´í¬ë„ŒíŠ¸, Tailwind CSS, api-client ì‚¬ìš©
- [ ] **íƒ€ì… ì•ˆì •ì„±**: any íƒ€ì… ì œê±°, Promise ë°˜í™˜ íƒ€ì… ëª…ì‹œ
- [ ] **ë¼ìš°íŠ¸ ë³´í˜¸**: ì¸ì¦ ì²´í¬, 401 ì‘ë‹µ í˜•ì‹ í†µì¼
- [ ] **ëŸ°íƒ€ì„ ì„¤ì •**: í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬, runtime ì„¤ì •
- [ ] **TypeScript**: íƒ€ì… ì²´í¬ í†µê³¼
- [ ] **ESLint**: ê²€ì‚¬ í†µê³¼
- [ ] **ë¹Œë“œ ì„±ê³µ**: ë¡œì»¬ í™˜ê²½ì—ì„œ ë¹Œë“œ ì™„ë£Œ

---

## ğŸ”’ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì½”ë“œ ì‘ì„± ì‹œ

- [ ] í™˜ê²½ ë³€ìˆ˜ í•˜ë“œì½”ë”© ì—†ìŒ
- [ ] any íƒ€ì… ì‚¬ìš© ì—†ìŒ
- [ ] ë¯¼ê° ì •ë³´ ë¡œê¹… ì—†ìŒ
- [ ] XSS ë°©ì§€ (DOMPurify ì‚¬ìš©)

### ë³´ì•ˆ ê²€ì¦

```bash
# ë¹„ë°€í‚¤ ìŠ¤ìº”
node scripts/security/scan-secrets.js

# RLS ì •ì±… í™•ì¸
npm run security:apply-rls-dry

# ë³´ì•ˆ í…ŒìŠ¤íŠ¸ (ëª©í‘œ: 100% í†µê³¼)
npm run security:test

# í˜„ì¬ ì„±ê³µë¥ : 38% (2025-01-29 ê¸°ì¤€)
# í•„ìˆ˜ ê°œì„  í•­ëª©: Rate Limiting, XSS ë°©ì§€, ì…ë ¥ ê²€ì¦
```

---

## ğŸ” YouTube Lens ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ (2025-01-29 ì¶”ê°€)

### API ì—°ê²° í™•ì¸

- [ ] API í‚¤ ì„¤ì • í™•ì¸
- [ ] ì¸ê¸° Shorts ì¡°íšŒ í…ŒìŠ¤íŠ¸
- [ ] ì±„ë„ í´ë” ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ì»´ë ‰ì…˜ CRUD í…ŒìŠ¤íŠ¸

### ì˜¤ë¥˜ í•´ê²°

- [ ] 400/404/500 ì—ëŸ¬ í•´ê²°
- [ ] api-client.ts ì‚¬ìš© í†µì¼
- [ ] ì„¸ì…˜ ê²€ì‚¬ ì ìš© í™•ì¸

---

## ğŸš€ ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í™˜ê²½ ì„¤ì •

- [ ] `.env.local` ëª¨ë“  í•„ìˆ˜ í‚¤ ì„¤ì •
- [ ] Vercel í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] `localhost` ì‚¬ìš© (127.0.0.1 ê¸ˆì§€)

### Supabase ê²€ì¦

```bash
# í…Œì´ë¸” ê²€ì¦
node scripts/verify-with-service-role.js

# ëˆ„ë½ëœ í…Œì´ë¸” í™•ì¸
node scripts/check-missing-tables.js

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
npm run supabase:migrate-complete
node scripts/verify-with-service-role.js

# ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ
npm run supabase:check
```

### ìµœì¢… í…ŒìŠ¤íŠ¸

- [ ] ë¡œì»¬ ê°œë°œ í™˜ê²½: `npm run dev`
- [ ] í”„ë¡œë•ì…˜ ë¹Œë“œ: `npm run build`
- [ ] ì‹¤ì œ ì‚¬ì´íŠ¸ í…ŒìŠ¤íŠ¸: https://dhacle.com

---

## ğŸ“ Git ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì»¤ë°‹ ì „

- [ ] ë³€ê²½ì‚¬í•­ í™•ì¸: `git status`
- [ ] ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œì™¸ (.gitignore)
- [ ] ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ ì¤€ìˆ˜

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥
fix: ë²„ê·¸ ìˆ˜ì •
refactor: ì½”ë“œ ê°œì„ 
style: ìŠ¤íƒ€ì¼ ë³€ê²½
docs: ë¬¸ì„œ ìˆ˜ì •
test: í…ŒìŠ¤íŠ¸ ì¶”ê°€
chore: ê¸°íƒ€ ì‘ì—…
```

### PR ìƒì„± ì „

- [ ] ë¸Œëœì¹˜ëª… ê·œì¹™ ì¤€ìˆ˜
- [ ] ì¶©ëŒ í•´ê²° ì™„ë£Œ
- [ ] ë¦¬ë·°ì–´ ì§€ì •

---

## ğŸ“Š ì„±ëŠ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Core Web Vitals

- [ ] LCP < 2.5s
- [ ] FID < 100ms
- [ ] CLS < 0.1
- [ ] Bundle Size < 200KB per route

### ìµœì í™” í™•ì¸

- [ ] ì´ë¯¸ì§€ ìµœì í™” (Next.js Image)
- [ ] ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ì ìš©
- [ ] ë¶ˆí•„ìš”í•œ re-render ë°©ì§€

---

## ğŸ“‹ ë¬¸ì„œ ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë¬¸ì„œ ìˆ˜ì • ì‹œ

- [ ] ê¸°ì¡´ ë‚´ìš© í•¨ë¶€ë¡œ ì‚­ì œ ê¸ˆì§€
- [ ] ì¤‘ë³µ ë‚´ìš© í™•ì¸
- [ ] ê´€ë ¨ ë¬¸ì„œ ì°¸ì¡° ì—…ë°ì´íŠ¸
- [ ] ë¬¸ì„œ ì—­í•  ì¤€ìˆ˜ (DOCUMENT_GUIDE.md ì°¸ì¡°)

### ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ

- [ ] CODEMAP.md - íŒŒì¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
- [ ] PROJECT.md - ìµœê·¼ ë³€ê²½ì‚¬í•­ ì¶”ê°€ (ìµœì‹  7ê°œë§Œ ìœ ì§€)
- [ ] CLAUDE.md - ìƒˆë¡œìš´ ê·œì¹™/ê¸ˆì§€ì‚¬í•­ ì¶”ê°€
- [ ] WIREFRAME.md - UI-API ì—°ê²° ìƒíƒœ ì—…ë°ì´íŠ¸
- [ ] COMPONENT_INVENTORY.md - ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ

## ğŸ” Pre-commit ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ (2025-08-19 ì¶”ê°€)

### Git ì»¤ë°‹ ì „ ìë™ ê²€ì¦

- [ ] **Pre-commit Hook í™œì„±í™”** (husky ì„¤ì¹˜ ì™„ë£Œ)
- [ ] API ì¼ì¹˜ì„± ê²€ì¦ í†µê³¼
- [ ] TypeScript íƒ€ì… ê²€ì¦ í†µê³¼
- [ ] Staged íŒŒì¼ ê²€ì¦ ì™„ë£Œ
- [ ] ì½”ë“œ í¬ë§·íŒ… ìë™ ì ìš©

### ê²€ì¦ ìš°íšŒ (ê¸´ê¸‰ ì‹œì—ë§Œ)

```bash
# Pre-commit ê²€ì¦ ê±´ë„ˆë›°ê¸°
git commit --no-verify -m "fix: ê¸´ê¸‰ ìˆ˜ì •"
```

---

_ì´ ì²´í¬ë¦¬ìŠ¤íŠ¸ëŠ” ì‘ì—… í’ˆì§ˆ ë³´ì¦ì„ ìœ„í•œ ê²€ì¦ ë„êµ¬ì…ë‹ˆë‹¤._
