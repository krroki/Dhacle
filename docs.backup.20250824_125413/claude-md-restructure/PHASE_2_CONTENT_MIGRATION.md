/sc:implement --seq --validate --think-hard --delegate folders
"Phase 2: í´ë”ë³„ CLAUDE.md ìƒì„± ë° ë‚´ìš© ì´ë™"

# Phase 2: í´ë”ë³„ CLAUDE.md ìƒì„± ë° ìµœì í™”ëœ ë‚´ìš© ì´ë™

## ğŸš¨ í”„ë¡œì íŠ¸ íŠ¹í™” ê·œì¹™ í™•ì¸ (í•„ìˆ˜)
âš ï¸ **ê²½ê³ **: ì•„ë˜ ë¬¸ì„œ ë¯¸í™•ì¸ ì‹œ í”„ë¡œì íŠ¸ íŒŒê´´ ê°€ëŠ¥ì„± 90%

### ìµœìš°ì„  í™•ì¸ ë¬¸ì„œ
- [ ] `/docs/CONTEXT_BRIDGE.md` - í”„ë¡œì íŠ¸ íŠ¹í™” ê·œì¹™ (ì „ì²´ ì½ê¸° í•„ìˆ˜)
- [ ] `/CLAUDE.md` ì „ì²´ - í˜„ì¬ êµ¬ì¡° ì™„ë²½ ì´í•´
- [ ] ë°±ì—… íŒŒì¼ ì¡´ì¬ í™•ì¸ - CLAUDE.md.backup.*

### í”„ë¡œì íŠ¸ ê¸ˆì§€ì‚¬í•­ ì²´í¬ âœ…
- [ ] ì›ë³¸ ë‚´ìš© ì„ì˜ ì‚­ì œ ê¸ˆì§€
- [ ] ìë™ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì¼ê´„ ë³€ê²½ ê¸ˆì§€
- [ ] ì»¨í…ìŠ¤íŠ¸ ì—†ëŠ” ë³µì‚¬-ë¶™ì—¬ë„£ê¸° ê¸ˆì§€
- [ ] í´ë”ë³„ ìµœì í™” ì—†ì´ ë‹¨ìˆœ ë¶„í•  ê¸ˆì§€

## ğŸ“Œ Phase ì •ë³´
- **Phase ë²ˆí˜¸**: 2/4
- **ì„ í–‰ ì¡°ê±´**: Phase 1 ì™„ë£Œ (ë°±ì—… ë° ê²€ì¦)
- **ì˜ˆìƒ ì‹œê°„**: 2ì‹œê°„
- **ìš°ì„ ìˆœìœ„**: CRITICAL
- **ì‘ì—… ë²”ìœ„**: 14ê°œ í´ë”, 1,111ì¤„ ë‚´ìš© ì¬êµ¬ì„± (PHASE 0 ì—…ë°ì´íŠ¸)

## ğŸ¯ Phase ëª©í‘œ
1. í´ë”ë³„ ìµœì í™”ëœ CLAUDE.md ìƒì„±
2. ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ê¸°ë°˜ í´ë”ë³„ ì§€ì¹¨ ì‘ì„±
3. ì¤‘ë³µ ì œê±° ë° ê´€ë ¨ì„± ë†’ì€ ë‚´ìš©ë§Œ ë°°ì¹˜
4. ë„¤ë¹„ê²Œì´ì…˜ ë° ìƒí˜¸ ì°¸ì¡° ì‹œìŠ¤í…œ êµ¬ì¶•

## ğŸ“š ì˜¨ë³´ë”© ì„¹ì…˜

### ì´ Phaseì— í•„ìš”í•œ ì§€ì‹
- [ ] Next.js App Router êµ¬ì¡°
- [ ] TypeScript í”„ë¡œì íŠ¸ êµ¬ì¡° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤
- [ ] Supabase ë³´ì•ˆ íŒ¨í„´
- [ ] API Route í•¸ë“¤ëŸ¬ íŒ¨í„´

### ì‘ì—… íŒŒì¼ ê²½ë¡œ
- ì›ë³¸: `/CLAUDE.md.backup.*`
- ëŒ€ìƒ: ê° í´ë”ë³„ CLAUDE.md (12ê°œ)

## ğŸ“ ì‘ì—… ë‚´ìš©

### Step 1: ë£¨íŠ¸ CLAUDE.md ì¬êµ¬ì„± (ì•½ 150ì¤„)
```markdown
# ğŸ“‹ Claude AI ì‘ì—… ë„¤ë¹„ê²Œì´í„°

## ğŸš¨ ì ˆëŒ€ ê¸ˆì§€ì‚¬í•­ (ëª¨ë“  ì‘ì—…ì— ì ìš©)
[í˜„ì¬ CLAUDE.md 1-71í–‰ ë‚´ìš© ìœ ì§€ - STOP & ACT ê·œì¹™]

## ğŸ“ í´ë”ë³„ ìƒì„¸ ì§€ì¹¨ ë§µ
| ì‘ì—… ì˜ì—­ | íŒŒì¼ ìœ„ì¹˜ | ì£¼ìš” ë‚´ìš© |
|----------|----------|----------|
| API Routes | [/src/app/api/CLAUDE.md](src/app/api/CLAUDE.md) | API íŒ¨í„´, ì¸ì¦, ì—ëŸ¬ ì²˜ë¦¬ |
| í˜ì´ì§€ | [/src/app/(pages)/CLAUDE.md](src/app/(pages)/CLAUDE.md) | Server Component, ë¼ìš°íŒ… |
| ì»´í¬ë„ŒíŠ¸ | [/src/components/CLAUDE.md](src/components/CLAUDE.md) | shadcn/ui, Tailwind |
| íƒ€ì… ì‹œìŠ¤í…œ | [/src/types/CLAUDE.md](src/types/CLAUDE.md) | TypeScript, íƒ€ì… ê´€ë¦¬ |
| Supabase | [/src/lib/supabase/CLAUDE.md](src/lib/supabase/CLAUDE.md) | í´ë¼ì´ì–¸íŠ¸ íŒ¨í„´ |
| ë³´ì•ˆ | [/src/lib/security/CLAUDE.md](src/lib/security/CLAUDE.md) | RLS, ê²€ì¦, XSS |
| ìŠ¤í¬ë¦½íŠ¸ | [/scripts/CLAUDE.md](scripts/CLAUDE.md) | ê²€ì¦, SQL ì‹¤í–‰ |
| ë¬¸ì„œ | [/docs/CLAUDE.md](docs/CLAUDE.md) | ë¬¸ì„œ ì²´ê³„, í…œí”Œë¦¿ |

## ğŸ”— 14ê°œ í•µì‹¬ ë¬¸ì„œ
[í˜„ì¬ ë‚´ìš© ìœ ì§€]

## ğŸš€ ë¹ ë¥¸ ì‹œì‘
ì‘ì—… ìœ„ì¹˜ì— ë”°ë¼ í•´ë‹¹ í´ë”ì˜ CLAUDE.mdë¥¼ ìš°ì„  í™•ì¸í•˜ì„¸ìš”.
```

### Step 2: src/app/api/CLAUDE.md (300ì¤„ - API íŠ¹í™”)
```markdown
# ğŸ”Œ API Route ê°œë°œ ì§€ì¹¨

## ğŸš¨ API Route í•„ìˆ˜ íŒ¨í„´ (Next.js 15 App Router)

### âœ… ì˜¬ë°”ë¥¸ íŒ¨í„´ (2025-08-22 í‘œì¤€)
\`\`\`typescript
import { createSupabaseRouteHandlerClient } from '@/lib/supabase/server-client';
import { NextResponse } from 'next/server';

export async function GET(): Promise<NextResponse> {
  try {
    const supabase = await createSupabaseRouteHandlerClient();
    
    // ì¸ì¦ ì²´í¬ (í•„ìˆ˜)
    const { data: { user } } = await supabase.auth.getUser();
    if (!user) {
      return NextResponse.json(
        { error: 'User not authenticated' },
        { status: 401 }
      );
    }
    
    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    const { data, error } = await supabase
      .from('table')
      .select()
      .eq('user_id', user.id);
    
    if (error) throw error;
    
    return NextResponse.json(data);
  } catch (error) {
    console.error('API Error:', error);
    return NextResponse.json(
      { error: 'Internal Server Error' },
      { status: 500 }
    );
  }
}
\`\`\`

## ğŸ”’ ì¸ì¦ ê³¨ë“ ë£°
1. **ëª¨ë“  RouteëŠ” ì„¸ì…˜ ê²€ì‚¬ í•„ìˆ˜**
2. **getUser() ì‚¬ìš©** (getSession() ê¸ˆì§€)
3. **401 ì‹œ í‘œì¤€ ì—ëŸ¬ í˜•ì‹ ì¤€ìˆ˜**
4. **userIdëŠ” ì„¸ì…˜ì—ì„œë§Œ ì¶”ì¶œ**

## ğŸ¯ HTTP ë©”ì„œë“œë³„ íŒ¨í„´
### GET - ë°ì´í„° ì¡°íšŒ
- ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ê²€ì¦
- í˜ì´ì§€ë„¤ì´ì…˜ ì§€ì›
- ìºì‹± í—¤ë” ì„¤ì •

### POST - ë°ì´í„° ìƒì„±
- Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦ í•„ìˆ˜
- íŠ¸ëœì­ì…˜ ì²˜ë¦¬
- ìƒì„±ëœ ë¦¬ì†ŒìŠ¤ ë°˜í™˜

### PUT/PATCH - ë°ì´í„° ìˆ˜ì •
- ë¶€ë¶„ ì—…ë°ì´íŠ¸ ì§€ì›
- ë‚™ê´€ì  ì ê¸ˆ ê³ ë ¤
- ë³€ê²½ ì´ë ¥ ê¸°ë¡

### DELETE - ë°ì´í„° ì‚­ì œ
- Soft delete ìš°ì„ 
- ì¢…ì† ë°ì´í„° ì²˜ë¦¬
- ì‚­ì œ í™•ì¸ ì‘ë‹µ

## ğŸ“Š ì—ëŸ¬ ì²˜ë¦¬ í‘œì¤€
\`\`\`typescript
// í‘œì¤€ ì—ëŸ¬ ì‘ë‹µ í˜•ì‹
interface ErrorResponse {
  error: string;
  message?: string;
  details?: unknown;
}

// ì—ëŸ¬ ì½”ë“œë³„ ì²˜ë¦¬
- 400: ì˜ëª»ëœ ìš”ì²­ (ê²€ì¦ ì‹¤íŒ¨)
- 401: ì¸ì¦ í•„ìš”
- 403: ê¶Œí•œ ì—†ìŒ
- 404: ë¦¬ì†ŒìŠ¤ ì—†ìŒ
- 409: ì¶©ëŒ (ì¤‘ë³µ ë“±)
- 500: ì„œë²„ ì˜¤ë¥˜
\`\`\`

## ğŸ” ê²€ì¦ íŒ¨í„´
\`\`\`typescript
import { validateRequestBody } from '@/lib/security/validation-schemas';

const validation = await validateRequestBody(request, schema);
if (!validation.success) {
  return createValidationErrorResponse(validation.error);
}
\`\`\`

## âš¡ ì„±ëŠ¥ ìµœì í™”
- Response streaming í™œìš©
- ëŒ€ìš©ëŸ‰ ë°ì´í„°ëŠ” í˜ì´ì§€ë„¤ì´ì…˜
- DB ì¿¼ë¦¬ ìµœì í™” (select í•„ë“œ ëª…ì‹œ)
- ì ì ˆí•œ ì¸ë±ìŠ¤ í™œìš©

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì¸ì¦ ì—†ì´ í˜¸ì¶œ â†’ 401
- [ ] ì˜ëª»ëœ ë°ì´í„° â†’ 400 + ìƒì„¸ ë©”ì‹œì§€
- [ ] ì •ìƒ ìš”ì²­ â†’ 200 + ë°ì´í„°
- [ ] DB ì˜¤ë¥˜ â†’ 500 + ë¡œê¹…
- [ ] Rate limiting ë™ì‘ í™•ì¸

## ğŸ“ ê´€ë ¨ íŒŒì¼
- ì¸ì¦: `/src/lib/supabase/server-client.ts`
- ê²€ì¦: `/src/lib/security/validation-schemas.ts`
- íƒ€ì…: `/src/types/index.ts`
```

### Step 3: src/app/(pages)/CLAUDE.md (150ì¤„ - í˜ì´ì§€ íŠ¹í™”)
```markdown
# ğŸ“„ Next.js Pages ê°œë°œ ì§€ì¹¨

## ğŸš¨ Server Component ìš°ì„  ì›ì¹™

### âœ… ê¸°ë³¸ íŒ¨í„´ (Server Component)
\`\`\`typescript
import { createSupabaseServerClient } from '@/lib/supabase/server-client';

export const dynamic = 'force-dynamic'; // ì •ì  ìƒì„± ë°©ì§€

export default async function Page() {
  const supabase = await createSupabaseServerClient();
  const { data: { user } } = await supabase.auth.getUser();
  
  // ì„œë²„ì—ì„œ ë°ì´í„° í˜ì¹­
  const data = await fetchData(user?.id);
  
  return <PageContent data={data} />;
}
\`\`\`

### ğŸ¨ Client Component ì‚¬ìš© ì‹œì 
- ìƒíƒœ ê´€ë¦¬ í•„ìš” (useState, useReducer)
- ë¸Œë¼ìš°ì € API ì‚¬ìš© (window, document)
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (onClick, onChange)
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì°¨íŠ¸, ì—ë””í„° ë“±)

## ğŸ“ í˜ì´ì§€ êµ¬ì¡° íŒ¨í„´
\`\`\`
(pages)/
â”œâ”€â”€ [feature]/
â”‚   â”œâ”€â”€ page.tsx          # Server Component
â”‚   â”œâ”€â”€ layout.tsx        # ë ˆì´ì•„ì›ƒ (ì„ íƒì )
â”‚   â”œâ”€â”€ loading.tsx       # ë¡œë”© UI
â”‚   â”œâ”€â”€ error.tsx         # ì—ëŸ¬ ë°”ìš´ë”ë¦¬
â”‚   â””â”€â”€ components/       # í˜ì´ì§€ ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ ClientSection.tsx  # 'use client'
â”‚       â””â”€â”€ ServerSection.tsx  # Server Component
\`\`\`

## ğŸ” ì¸ì¦ì´ í•„ìš”í•œ í˜ì´ì§€
\`\`\`typescript
import { redirect } from 'next/navigation';

export default async function ProtectedPage() {
  const supabase = await createSupabaseServerClient();
  const { data: { user } } = await supabase.auth.getUser();
  
  if (!user) {
    redirect('/auth/login');
  }
  
  // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ì»¨í…ì¸ 
}
\`\`\`

## ğŸ’¾ ë°ì´í„° í˜ì¹­ ì „ëµ
1. **Server Component**: ì´ˆê¸° ë°ì´í„°ëŠ” ì„œë²„ì—ì„œ
2. **Client Hooks**: ë™ì  ì—…ë°ì´íŠ¸ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ
3. **Streaming**: Suspenseë¡œ ì ì§„ì  ë Œë”ë§
4. **ìºì‹±**: ì ì ˆí•œ revalidate ì„¤ì •

## ğŸ¯ ë©”íƒ€ë°ì´í„° ì„¤ì •
\`\`\`typescript
export const metadata = {
  title: 'í˜ì´ì§€ ì œëª© | Dhacle',
  description: 'SEO ì„¤ëª…',
  openGraph: {
    title: 'OG ì œëª©',
    description: 'OG ì„¤ëª…',
    images: ['/og-image.png'],
  },
};
\`\`\`

## âš ï¸ ì£¼ì˜ì‚¬í•­
- layout.tsxëŠ” ì‚¬ìš©ì í˜‘ì˜ ì—†ì´ ìƒì„± ê¸ˆì§€
- í˜ì´ì§€ë³„ ìƒíƒœëŠ” Zustand store í™œìš©
- ìŠ¤íƒ€ì¼ë§ì€ Tailwind CSSë§Œ ì‚¬ìš©
- shadcn/ui ì»´í¬ë„ŒíŠ¸ ìš°ì„  í™œìš©
```

### Step 4: src/components/CLAUDE.md (200ì¤„ - ì»´í¬ë„ŒíŠ¸ íŠ¹í™”)
```markdown
# ğŸ§© Component ê°œë°œ ì§€ì¹¨

## ğŸš¨ ì»´í¬ë„ŒíŠ¸ ì‘ì„± ì›ì¹™

### ğŸ“ íŒŒì¼ êµ¬ì¡°
\`\`\`
components/
â”œâ”€â”€ ui/                   # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ features/            # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ revenue-proof/
â”‚   â””â”€â”€ youtube-lens/
â”œâ”€â”€ layout/              # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â””â”€â”€ common/              # ê³µí†µ ì»´í¬ë„ŒíŠ¸
\`\`\`

### âœ… Server Component (ê¸°ë³¸ê°’)
\`\`\`typescript
// ë³„ë„ ì§€ì‹œì ì—†ìœ¼ë©´ Server Component
interface Props {
  data: SomeType;
}

export function ServerComponent({ data }: Props) {
  return <div>{/* ë Œë”ë§ ë¡œì§ */}</div>;
}
\`\`\`

### ğŸ¨ Client Component
\`\`\`typescript
'use client';

import { useState } from 'react';

export function ClientComponent() {
  const [state, setState] = useState();
  
  return <div>{/* ì¸í„°ë™í‹°ë¸Œ UI */}</div>;
}
\`\`\`

## ğŸ¯ shadcn/ui ìš°ì„  ì‚¬ìš©
\`\`\`typescript
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';

// âŒ ê¸ˆì§€ - ì§ì ‘ êµ¬í˜„
<button className="...">Click</button>
\`\`\`

## ğŸ¨ ìŠ¤íƒ€ì¼ë§ ê·œì¹™ (Tailwind CSSë§Œ)
\`\`\`typescript
// âœ… ì˜¬ë°”ë¥¸ ìŠ¤íƒ€ì¼ë§
<div className="flex items-center gap-4 p-4 bg-white rounded-lg shadow-sm">

// âŒ ê¸ˆì§€ëœ ë°©ì‹ë“¤
<div style={{ display: 'flex' }}>  // ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ê¸ˆì§€
<div className={styles.container}>  // CSS ëª¨ë“ˆ ê¸ˆì§€
styled.div\`...\`                    // styled-components ê¸ˆì§€
\`\`\`

## ğŸ“± ë°˜ì‘í˜• ë””ìì¸
\`\`\`typescript
<div className="
  w-full 
  sm:w-1/2      // 640px ì´ìƒ
  md:w-1/3      // 768px ì´ìƒ
  lg:w-1/4      // 1024px ì´ìƒ
  xl:w-1/5      // 1280px ì´ìƒ
">
\`\`\`

## â™¿ ì ‘ê·¼ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì‹œë§¨í‹± HTML ì‚¬ìš© (header, nav, main, footer)
- [ ] ARIA ë ˆì´ë¸” ì¶”ê°€ (í•„ìš”ì‹œ)
- [ ] í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
- [ ] í¬ì»¤ìŠ¤ í‘œì‹œ ìœ ì§€
- [ ] ìƒ‰ìƒ ëŒ€ë¹„ 4.5:1 ì´ìƒ

## ğŸ§ª ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
\`\`\`typescript
// ComponentName.test.tsx
import { render, screen } from '@testing-library/react';
import { ComponentName } from './ComponentName';

describe('ComponentName', () => {
  it('should render correctly', () => {
    render(<ComponentName />);
    expect(screen.getByText('expected')).toBeInTheDocument();
  });
});
\`\`\`

## ğŸ” ì„±ëŠ¥ ìµœì í™”
- React.memo() - ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
- useMemo() - ë¹„ìš©ì´ í° ê³„ì‚° ë©”ëª¨ì´ì œì´ì…˜
- useCallback() - í•¨ìˆ˜ ì¬ìƒì„± ë°©ì§€
- ë™ì  import() - ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- Image ì»´í¬ë„ŒíŠ¸ - ì´ë¯¸ì§€ ìµœì í™”

## âš ï¸ React Hook ëª…ëª… ê·œì¹™
\`\`\`typescript
// âœ… ì˜¬ë°”ë¥¸ Hook ì´ë¦„ (camelCase)
useCarousel, useAuth, useToast

// âŒ ì˜ëª»ëœ Hook ì´ë¦„ (snake_case)
use_carousel, use_auth, use_toast
\`\`\`
```

### Step 5: src/types/CLAUDE.md (200ì¤„ - íƒ€ì… ì‹œìŠ¤í…œ íŠ¹í™”)
```markdown
# ğŸ”· TypeScript íƒ€ì… ê´€ë¦¬ ì‹œìŠ¤í…œ

## ğŸš¨ Single Source of Truth ì›ì¹™

### ğŸ“Š íƒ€ì… í”Œë¡œìš°
\`\`\`
Supabase DB (snake_case)
     â†“ [npm run types:generate]
database.generated.ts (ìë™ ìƒì„±, ìˆ˜ì • ê¸ˆì§€)
     â†“
src/types/index.ts (ë³€í™˜ ë ˆì´ì–´, ì¤‘ì•™ ê´€ë¦¬)
     â†“
Frontend Components (camelCase ì‚¬ìš©)
\`\`\`

## âœ… ì˜¬ë°”ë¥¸ íƒ€ì… import
\`\`\`typescript
// âœ… ë°˜ë“œì‹œ @/typesì—ì„œë§Œ import
import { User, Course, snakeToCamelCase } from '@/types';

// âŒ ì ˆëŒ€ ê¸ˆì§€ íŒ¨í„´ë“¤
import { Database } from '@/types/database';           // ê¸ˆì§€!
import { Database } from '@/types/database.generated'; // ê¸ˆì§€!
import type { Tables } from '@/types/database.generated'; // ê¸ˆì§€!
\`\`\`

## ğŸ”„ ì¼€ì´ìŠ¤ ë³€í™˜ ì‹œìŠ¤í…œ
\`\`\`typescript
// API Routeì—ì„œ (DB â†’ Frontend)
const dbData = await supabase.from('users').select();
return NextResponse.json(snakeToCamelCase(dbData.data));

// Frontendì—ì„œ ì‚¬ìš©
const user: User = await apiGet('/api/user'); // ì´ë¯¸ camelCase

// DB ì €ì¥ ì‹œ (Frontend â†’ DB)
import { camelToSnakeCase } from '@/types';
await supabase.from('users').insert(camelToSnakeCase(userData));
\`\`\`

## ğŸ“ íƒ€ì… ì •ì˜ ê·œì¹™
\`\`\`typescript
// 1. ê¸°ë³¸ íƒ€ì… ì •ì˜
export interface User {
  id: string;
  email: string;
  createdAt: Date;  // camelCase
}

// 2. Union íƒ€ì… í™œìš©
export type Status = 'pending' | 'active' | 'completed';

// 3. ì œë„¤ë¦­ í™œìš©
export interface ApiResponse<T> {
  data: T;
  error?: string;
}

// 4. any íƒ€ì… ì ˆëŒ€ ê¸ˆì§€
// âŒ const data: any = [];
// âœ… const data: unknown[] = [];
\`\`\`

## ğŸ”§ íƒ€ì… ìƒì„± ëª…ë ¹ì–´
\`\`\`bash
# DBì—ì„œ íƒ€ì… ìƒì„±
npm run types:generate

# íƒ€ì… ì²´í¬
npm run types:check

# íƒ€ì… ì˜¤ë¥˜ ìë™ ìˆ˜ì • (ì‹ ì¤‘íˆ ì‚¬ìš©)
npm run types:auto-fix
\`\`\`

## ğŸš« ì ˆëŒ€ ê¸ˆì§€ì‚¬í•­
1. any íƒ€ì… ì‚¬ìš© ê¸ˆì§€
2. database.generated.ts ì§ì ‘ import ê¸ˆì§€
3. ìˆ˜ë™ìœ¼ë¡œ DB íƒ€ì… ì‘ì„± ê¸ˆì§€
4. @ts-ignore ì‚¬ìš© ê¸ˆì§€
5. unknown íƒ€ì… ê²€ì¦ ì—†ì´ ì‚¬ìš© ê¸ˆì§€

## ğŸ“‹ íƒ€ì… ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ëª¨ë“  í•¨ìˆ˜ì— ë°˜í™˜ íƒ€ì… ëª…ì‹œ
- [ ] API ì‘ë‹µì— íƒ€ì… ì •ì˜
- [ ] unknown ì²˜ë¦¬ ì‹œ íƒ€ì… ê°€ë“œ ì‚¬ìš©
- [ ] Union íƒ€ì…ìœ¼ë¡œ ìœ ì—°ì„± í™•ë³´
- [ ] ì œë„¤ë¦­ìœ¼ë¡œ ì¬ì‚¬ìš©ì„± í–¥ìƒ
```

### Step 6: src/hooks/CLAUDE.md (150ì¤„ - React Query íŠ¹í™”) âœ¨PHASE 0 ì¶”ê°€
```markdown
# ğŸ“Š React Query ì‚¬ìš© ê·œì¹™

## ğŸš¨ React Query íŒ¨í„´ (2025-02-01 êµ¬í˜„)

### âœ… ê¸°ë³¸ ì‚¬ìš© íŒ¨í„´
\`\`\`typescript
import { useYouTubeSearch } from '@/hooks/queries/useYouTubeSearch';

function Component() {
  const { data, isLoading, error } = useYouTubeSearch(query);
  
  if (isLoading) return <Loading />;
  if (error) return <Error />;
  
  return <Results data={data} />;
}
\`\`\`

## ğŸ“ íŒŒì¼ êµ¬ì¡°
\`\`\`
hooks/queries/
â”œâ”€â”€ useYouTubeSearch.ts
â”œâ”€â”€ useYouTubePopular.ts
â”œâ”€â”€ useYouTubeFavorites.ts
â”œâ”€â”€ useCommunityPosts.ts
â”œâ”€â”€ useRevenueProof.ts
â”œâ”€â”€ useUserProfile.ts
â”œâ”€â”€ useChannelFolders.ts
â”œâ”€â”€ useNotifications.ts
â””â”€â”€ useCacheInvalidation.ts
\`\`\`

## ğŸ¯ ëª…ëª… ê·œì¹™
- íŒŒì¼ëª…: `use[Domain][Action].ts`
- í›… ì´ë¦„: `use` + PascalCase (camelCase í•„ìˆ˜!)
- ì¿¼ë¦¬ í‚¤: `['domain', 'action', ...params]`

## âš™ï¸ ìºì‹± ì „ëµ
\`\`\`typescript
{
  staleTime: 5 * 60 * 1000,     // 5ë¶„
  gcTime: 5 * 60 * 1000,         // 5ë¶„
  retry: 3,                      // 3íšŒ ì¬ì‹œë„
  retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000)
}
\`\`\`

## ğŸ”„ ë°ì´í„° ì—…ë°ì´íŠ¸
\`\`\`typescript
// Optimistic Update
const mutation = useMutation({
  mutationFn: updateData,
  onMutate: async (newData) => {
    await queryClient.cancelQueries(['key']);
    const previous = queryClient.getQueryData(['key']);
    queryClient.setQueryData(['key'], newData);
    return { previous };
  },
  onError: (err, newData, context) => {
    queryClient.setQueryData(['key'], context.previous);
  },
  onSettled: () => {
    queryClient.invalidateQueries(['key']);
  }
});
\`\`\`

## âœ… 15ê°œ êµ¬í˜„ëœ í›…
1. `useYouTubeSearch` - YouTube ê²€ìƒ‰
2. `useYouTubePopular` - ì¸ê¸° ë™ì˜ìƒ
3. `useYouTubeFavorites` - ì¦ê²¨ì°¾ê¸°
4. `useCommunityPosts` - ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€
5. `useRevenueProof` - ìˆ˜ìµ ì¸ì¦
6. `useUserProfile` - ì‚¬ìš©ì í”„ë¡œí•„
7. `useChannelFolders` - ì±„ë„ í´ë”
8. `useNotifications` - ì•Œë¦¼
9. `useCacheInvalidation` - ìºì‹œ ë¬´íš¨í™”
10-15. ê¸°íƒ€ ë„ë©”ì¸ë³„ ì¿¼ë¦¬ í›…

## âš ï¸ ì£¼ì˜ì‚¬í•­
- ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš© ë¶ˆê°€
- ìºì‹œ ë¬´íš¨í™” ì‹œì  ì‹ ì¤‘íˆ ê²°ì •
- ì—ëŸ¬ ë°”ìš´ë”ë¦¬ì™€ í•¨ê»˜ ì‚¬ìš©
- ë¡œë”©/ì—ëŸ¬ ìƒíƒœ í•­ìƒ ì²˜ë¦¬
```

### Step 7: src/lib/supabase/CLAUDE.md (250ì¤„ - Supabase íŠ¹í™”)
```markdown
# ğŸ” Supabase í´ë¼ì´ì–¸íŠ¸ íŒ¨í„´ (2025-08-22 í‘œì¤€)

## ğŸš¨ í•„ìˆ˜ íŒ¨í„´ (í”„ë¡œì íŠ¸ íŒŒê´´ ë°©ì§€)

### âœ… Server Component íŒ¨í„´
\`\`\`typescript
import { createSupabaseServerClient } from '@/lib/supabase/server-client';

export const dynamic = 'force-dynamic'; // í™˜ê²½ë³€ìˆ˜ ì˜¤ë¥˜ ë°©ì§€

export default async function Page() {
  const supabase = await createSupabaseServerClient();
  const { data: { user } } = await supabase.auth.getUser();
  // ì‚¬ìš©...
}
\`\`\`

### âœ… API Route íŒ¨í„´
\`\`\`typescript
import { createSupabaseRouteHandlerClient } from '@/lib/supabase/server-client';
import { NextResponse } from 'next/server';

export async function GET(): Promise<NextResponse> {
  const supabase = await createSupabaseRouteHandlerClient();
  
  const { data: { user } } = await supabase.auth.getUser();
  if (!user) {
    return NextResponse.json(
      { error: 'User not authenticated' },
      { status: 401 }
    );
  }
  
  // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§...
}
\`\`\`

### âœ… Client Component íŒ¨í„´
\`\`\`typescript
'use client';

import { createSupabaseBrowserClient } from '@/lib/supabase/browser-client';

export function ClientComponent() {
  const supabase = createSupabaseBrowserClient();
  // ì‚¬ìš©...
}
\`\`\`

## âŒ ì ˆëŒ€ ê¸ˆì§€ íŒ¨í„´ (ë¹Œë“œ ì‹¤íŒ¨ ì›ì¸)
\`\`\`typescript
// âŒ ëª¨ë‘ ê¸ˆì§€ - PKCE ì˜¤ë¥˜ ë°œìƒ!
import { createRouteHandlerClient } from '@supabase/auth-helpers-nextjs';
import { createClientComponentClient } from '@supabase/auth-helpers-nextjs';
import { createServerComponentClient } from '@supabase/auth-helpers-nextjs';

// âŒ ê¸°íƒ€ ê¸ˆì§€ì‚¬í•­
getSession() // ê¸ˆì§€ â†’ getUser() ì‚¬ìš©
new Response() // ê¸ˆì§€ â†’ NextResponse.json() ì‚¬ìš©
\`\`\`

## ğŸ”’ RLS (Row Level Security) ì •ì±…
\`\`\`sql
-- í…Œì´ë¸” ìƒì„± ì‹œ ì¦‰ì‹œ ì ìš©
ALTER TABLE í…Œì´ë¸”ëª… ENABLE ROW LEVEL SECURITY;

-- ê¸°ë³¸ ì •ì±… í…œí”Œë¦¿
CREATE POLICY "users_select_own" ON users
  FOR SELECT USING (auth.uid() = user_id);
  
CREATE POLICY "users_insert_own" ON users
  FOR INSERT WITH CHECK (auth.uid() = user_id);
  
CREATE POLICY "users_update_own" ON users
  FOR UPDATE USING (auth.uid() = user_id);
  
CREATE POLICY "users_delete_own" ON users
  FOR DELETE USING (auth.uid() = user_id);
\`\`\`

## ğŸ“Š ì¿¼ë¦¬ ìµœì í™”
\`\`\`typescript
// âœ… í•„ìš”í•œ í•„ë“œë§Œ ì„ íƒ
const { data } = await supabase
  .from('users')
  .select('id, name, email')  // í•„ë“œ ëª…ì‹œ
  .eq('status', 'active')
  .limit(10);

// âŒ ì „ì²´ ì„ íƒ ì§€ì–‘
const { data } = await supabase
  .from('users')
  .select('*');  // ëª¨ë“  í•„ë“œ (ë¹„íš¨ìœ¨)
\`\`\`

## ğŸ”„ íŠ¸ëœì­ì…˜ ì²˜ë¦¬
\`\`\`typescript
// RPC í•¨ìˆ˜ë¡œ íŠ¸ëœì­ì…˜ êµ¬í˜„
const { data, error } = await supabase.rpc('transfer_funds', {
  from_account: 'A',
  to_account: 'B',
  amount: 100
});
\`\`\`

## ğŸ“ ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬
\`\`\`bash
# SQL ì‹¤í–‰
node scripts/supabase-sql-executor.js --method pg --file migrations/xxx.sql

# í…Œì´ë¸” ê²€ì¦
node scripts/verify-with-service-role.js

# íƒ€ì… ì¬ìƒì„±
npm run types:generate
\`\`\`
```

### Step 8: src/lib/CLAUDE.md (100ì¤„ - ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° í™˜ê²½ë³€ìˆ˜) âœ¨PHASE 0 ì¶”ê°€
```markdown
# ğŸ”§ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

## ğŸ” í™˜ê²½ë³€ìˆ˜ íƒ€ì… ì•ˆì „ì„± (2025-02-01 êµ¬í˜„)

### âœ… íƒ€ì… ì•ˆì „ ì‚¬ìš©ë²•
\`\`\`typescript
// âœ… ì˜¬ë°”ë¥¸ import - íƒ€ì… ì•ˆì „
import { env } from '@/env';

// ì„œë²„ ì»´í¬ë„ŒíŠ¸/API Route
const serviceKey = env.SUPABASE_SERVICE_ROLE_KEY; // ìë™ì™„ì„±!

// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸
const supabaseUrl = env.NEXT_PUBLIC_SUPABASE_URL; // íƒ€ì… ì²´í¬!
\`\`\`

### âŒ ê¸ˆì§€ íŒ¨í„´
\`\`\`typescript
// âŒ ì§ì ‘ process.env ì ‘ê·¼ ê¸ˆì§€
process.env.SUPABASE_SERVICE_ROLE_KEY  // íƒ€ì… ì•ˆì „ì„± ì—†ìŒ

// âŒ í•˜ë“œì½”ë”© ê¸ˆì§€
const key = "fc28f35efe5b90..."  // ì ˆëŒ€ ê¸ˆì§€!
\`\`\`

## ğŸ“‹ í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ í”„ë¡œì„¸ìŠ¤
1. `.env.local`ì— ì¶”ê°€
2. `src/env.ts` ìˆ˜ì •:
\`\`\`typescript
server: {
  NEW_SERVER_VAR: z.string().min(1),
},
client: {
  NEXT_PUBLIC_NEW_VAR: z.string(),
}
\`\`\`
3. ë¹Œë“œ ì‹œ ìë™ ê²€ì¦
4. ì½”ë“œì—ì„œ `env.NEW_VAR` ì‚¬ìš©

## ğŸš¨ ë¹Œë“œ ì‹¤íŒ¨ ë°©ì§€
- í™˜ê²½ë³€ìˆ˜ ëˆ„ë½ â†’ ë¹Œë“œ ì‹œ ëª…í™•í•œ ì˜¤ë¥˜
- íƒ€ì… ë¶ˆì¼ì¹˜ â†’ Zod ìë™ ê²€ì¦
- ëŸ°íƒ€ì„ ì•ˆì „ â†’ ë¹Œë“œíƒ€ì„ ê²€ì¦ ì™„ë£Œ

## ğŸ“¦ API í´ë¼ì´ì–¸íŠ¸
\`\`\`typescript
import { apiGet, apiPost, apiPut, apiDelete } from '@/lib/api-client';

// ìë™ ì¸ì¦, ì—ëŸ¬ ì²˜ë¦¬, íƒ€ì… ë³€í™˜
const data = await apiGet<User>('/api/user');
await apiPost('/api/posts', { title, content });
\`\`\`

## ğŸ”„ ì¼€ì´ìŠ¤ ë³€í™˜ ìœ í‹¸
\`\`\`typescript
import { snakeToCamelCase, camelToSnakeCase } from '@/lib/utils/case-converter';

// DB â†’ Frontend
const camelData = snakeToCamelCase(dbData);

// Frontend â†’ DB
const snakeData = camelToSnakeCase(formData);
\`\`\`
```

### Step 9: src/lib/security/CLAUDE.md (200ì¤„ - ë³´ì•ˆ íŠ¹í™”)
```markdown
# ğŸ›¡ï¸ ë³´ì•ˆ êµ¬í˜„ ê°€ì´ë“œ

## ğŸš¨ ë³´ì•ˆ Wave í˜„í™©
- Wave 0: ì™„ë£Œ âœ… (ê¸°ë³¸ RLS)
- Wave 1: ì™„ë£Œ âœ… (ì¸ì¦ í†µí•©)
- Wave 2: ì™„ë£Œ âœ… (RLS ì •ì±…)
- Wave 3: ì™„ë£Œ âœ… (Rate Limiting, Zod, XSS)

## ğŸ” ì¸ì¦ ê³¨ë“ ë£°
1. **ëª¨ë“  APIëŠ” ì„¸ì…˜ ê²€ì‚¬ í•„ìˆ˜**
2. **getUser() ì‚¬ìš©** (getSession() ê¸ˆì§€)
3. **401 ì—ëŸ¬ í‘œì¤€ í˜•ì‹ ì¤€ìˆ˜**
4. **userIdëŠ” ì„¸ì…˜ì—ì„œë§Œ ì¶”ì¶œ**

## âš¡ Rate Limiting (ìë™ í™œì„±í™”)
\`\`\`typescript
// src/lib/security/rate-limiter.ts
- IP ê¸°ë°˜ ì¼ë°˜ API: ë¶„ë‹¹ 60íšŒ
- ì¸ì¦ ì—”ë“œí¬ì¸íŠ¸: 15ë¶„ë‹¹ 5íšŒ
- íŒŒì¼ ì—…ë¡œë“œ: ì‹œê°„ë‹¹ 10íšŒ
\`\`\`

## ğŸ” ì…ë ¥ ê²€ì¦ (Zod)
\`\`\`typescript
import { validateRequestBody } from '@/lib/security/validation-schemas';

// API Routeì—ì„œ
const validation = await validateRequestBody(request, createPostSchema);
if (!validation.success) {
  return createValidationErrorResponse(validation.error);
}

// ìŠ¤í‚¤ë§ˆ ì •ì˜
const createPostSchema = z.object({
  title: z.string().min(1).max(200),
  content: z.string().min(1).max(10000),
  tags: z.array(z.string()).max(5).optional(),
});
\`\`\`

## ğŸ§¹ XSS ë°©ì§€ (DOMPurify)
\`\`\`typescript
import { sanitizeRichHTML, sanitizeURL } from '@/lib/security/sanitizer';

// HTML ì»¨í…ì¸  ì •í™”
const safeContent = sanitizeRichHTML(userInput);

// URL ê²€ì¦ ë° ì •í™”
const safeUrl = sanitizeURL(urlInput);
\`\`\`

## ğŸ”’ RLS ì •ì±… ì ìš©
\`\`\`bash
# ëª¨ë“  Wave RLS ì ìš©
npm run security:apply-rls-all

# Dry-run ëª¨ë“œ
npm run security:apply-rls-dry

# íŠ¹ì • Waveë§Œ
npm run security:apply-rls-wave2
\`\`\`

## ğŸ—‘ï¸ TTL ë°ì´í„° ì •ì±…
\`\`\`bash
# 30ì¼ ì´ìƒ ë°ì´í„° ì •ë¦¬
npm run security:ttl

# Dry-run ëª¨ë“œ
npm run security:ttl-dry

# ê°•ì œ ì‚­ì œ
npm run security:ttl-force
\`\`\`

## ğŸ§ª ë³´ì•ˆ í…ŒìŠ¤íŠ¸
\`\`\`bash
# ì „ì²´ ë³´ì•ˆ í…ŒìŠ¤íŠ¸
npm run security:test

# ìƒì„¸ ëª¨ë“œ
npm run security:test-verbose

# í†µí•© ì‘ì—…
npm run security:complete
\`\`\`

## ğŸ“‹ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] API Routeì— ì¸ì¦ ì²´í¬
- [ ] ì…ë ¥ ë°ì´í„° Zod ê²€ì¦
- [ ] ì‚¬ìš©ì ì»¨í…ì¸  XSS ì •í™”
- [ ] RLS ì •ì±… í™œì„±í™”
- [ ] Rate Limiting ì„¤ì •
- [ ] ì—ëŸ¬ ë©”ì‹œì§€ì— ë¯¼ê°ì •ë³´ ì œì™¸
- [ ] í™˜ê²½ ë³€ìˆ˜ í•˜ë“œì½”ë”© ê¸ˆì§€
```

### Step 10: scripts/CLAUDE.md (150ì¤„ - ìŠ¤í¬ë¦½íŠ¸ íŠ¹í™”)
```markdown
# ğŸ”§ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸš¨ ìë™ ìŠ¤í¬ë¦½íŠ¸ ì ˆëŒ€ ê¸ˆì§€
\`\`\`bash
# âŒ ì ˆëŒ€ ê¸ˆì§€ - ì½”ë“œ ìë™ ë³€í™˜
fix-all-errors.js
migrate-to-snake-case.js
auto-fix-types.js

# âœ… í—ˆìš© - ê²€ì¦ë§Œ ìˆ˜í–‰
verify-*.js
check-*.js
\`\`\`

## ğŸ“Š ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
\`\`\`bash
# API ì¼ì¹˜ì„± ê²€ì¦
npm run verify:api

# íƒ€ì… ì‹œìŠ¤í…œ ê²€ì¦
npm run verify:types

# UI ì¼ê´€ì„± ê²€ì¦  
npm run verify:ui

# ë¼ìš°íŠ¸ ë³´í˜¸ ê²€ì¦
npm run verify:routes

# ë³‘ë ¬ ì‹¤í–‰ (60% ë¹ ë¦„)
npm run verify:parallel
\`\`\`

## ğŸ—„ï¸ SQL ì‹¤í–‰ ì‹œìŠ¤í…œ
\`\`\`bash
# PostgreSQL ì§ì ‘ ì—°ê²° (ê¶Œì¥)
node scripts/supabase-sql-executor.js --method pg --file <SQLíŒŒì¼>

# ì˜µì…˜
--dry-run      # ì‹¤í–‰ ì—†ì´ ê²€ì¦ë§Œ
--verbose      # ìƒì„¸ ë¡œê·¸
--health       # ì—°ê²° ìƒíƒœ í™•ì¸
\`\`\`

## ğŸ“‹ í…Œì´ë¸” ê²€ì¦
\`\`\`bash
# í…Œì´ë¸” ìƒíƒœ í™•ì¸
node scripts/verify-with-service-role.js

# ëˆ„ë½ í…Œì´ë¸” ê²€ì‚¬
node scripts/check-missing-tables.js
\`\`\`

## ğŸ” ë³´ì•ˆ ìŠ¤í¬ë¦½íŠ¸
\`\`\`bash
# ë¹„ë°€í‚¤ ìŠ¤ìº”
node scripts/security/scan-secrets.js

# RLS ì •ì±… ì ìš©
node scripts/security/apply-rls-improved.js

# ì„¸ì…˜ ì²´í¬ ê²€ì¦
node scripts/security/verify-session-checks.js
\`\`\`

## ğŸ¯ íƒ€ì… ê´€ë¦¬
\`\`\`bash
# DBì—ì„œ íƒ€ì… ìƒì„±
npm run types:generate

# íƒ€ì… ì²´í¬
npm run types:check

# íƒ€ì… ì œì•ˆ (ìˆ˜ë™ ìˆ˜ì •ìš©)
node scripts/type-suggester.js <íŒŒì¼ê²½ë¡œ>
\`\`\`

## âš ï¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ê·œì¹™
1. íŒŒì¼ ì‹œìŠ¤í…œ ì§ì ‘ ìˆ˜ì • ê¸ˆì§€
2. ê²€ì¦ ê²°ê³¼ë§Œ ì¶œë ¥
3. ìˆ˜ì • ì œì•ˆì€ ìƒì„¸íˆ ê¸°ë¡
4. ë¡¤ë°± ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„
5. ì§„í–‰ìƒí™© í‘œì‹œ í•„ìˆ˜
```

### Step 11: docs/CLAUDE.md (100ì¤„ - ë¬¸ì„œ íŠ¹í™”)
```markdown
# ğŸ“š ë¬¸ì„œ ì²´ê³„ ê°€ì´ë“œ

## ğŸš¨ 14ê°œ í•µì‹¬ ë¬¸ì„œ ì²´ê³„

### í•„ìˆ˜ í™•ì¸ ìˆœì„œ
1. `/docs/CONTEXT_BRIDGE.md` - í”„ë¡œì íŠ¸ íŠ¹í™” ê·œì¹™ (ìµœìš°ì„ !)
2. `/docs/PROJECT.md` - í”„ë¡œì íŠ¸ í˜„í™©
3. `/docs/CODEMAP.md` - í”„ë¡œì íŠ¸ êµ¬ì¡°
4. `/docs/CHECKLIST.md` - ì‘ì—… ê²€ì¦
5. [ê¸°íƒ€ ë¬¸ì„œë“¤...]

## ğŸ“ ë¬¸ì„œ ì‘ì„± ê·œì¹™
- ì¤‘ë³µ ë‚´ìš© ì‘ì„± ê¸ˆì§€
- ê° ë¬¸ì„œ ì—­í•  ê²½ê³„ ì¤€ìˆ˜
- ìµœì‹  7ê°œ ë³€ê²½ì‚¬í•­ë§Œ ìœ ì§€
- ì‹¤ì œ êµ¬í˜„ ìƒíƒœ ë°˜ì˜

## ğŸ”„ ë¬¸ì„œ ì—…ë°ì´íŠ¸ ì‹œì 
- ìƒˆ ì»´í¬ë„ŒíŠ¸ â†’ COMPONENT_INVENTORY.md
- ìƒˆ ë¼ìš°íŠ¸ â†’ ROUTE_SPEC.md
- API ì—°ê²° â†’ WIREFRAME.md
- ì—ëŸ¬ ì²˜ë¦¬ â†’ ERROR_BOUNDARY.md
- ìƒíƒœ ê´€ë¦¬ â†’ STATE_FLOW.md

## ğŸ“‹ í…œí”Œë¦¿ í™œìš©
- ì§€ì‹œì„œ: INSTRUCTION_TEMPLATE_v16.md
- í”„ë¡œì íŠ¸ë³„: docs/[project-name]/

## âš ï¸ ì£¼ì˜ì‚¬í•­
- README íŒŒì¼ ì„ì˜ ìƒì„± ê¸ˆì§€
- ì‚¬ìš©ì í˜‘ì˜ ì—†ì´ ë¬¸ì„œ ìƒì„± ê¸ˆì§€
- ì¶”ì¸¡ì„± ë‚´ìš© ì‘ì„± ê¸ˆì§€
```

### Step 12: tests/CLAUDE.md (100ì¤„ - í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ) âœ¨PHASE 0 ì¶”ê°€
```markdown
# ğŸ§ª í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œ

## ğŸš¨ í…ŒìŠ¤íŠ¸ 3ì¢… ì‹œìŠ¤í…œ

### 1ï¸âƒ£ Vitest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
\`\`\`typescript
import { render, screen } from '@testing-library/react';
import { ComponentName } from './ComponentName';

describe('ComponentName', () => {
  it('should render correctly', () => {
    render(<ComponentName />);
    expect(screen.getByText('expected')).toBeInTheDocument();
  });
});
\`\`\`

### 2ï¸âƒ£ MSW API ëª¨í‚¹
\`\`\`typescript
// src/mocks/handlers.ts
http.get('/api/endpoint', () => {
  return HttpResponse.json({ data: 'mocked' })
})
\`\`\`

### 3ï¸âƒ£ Playwright E2E
\`\`\`typescript
test('user flow', async ({ page }) => {
  await page.goto('/');
  await page.click('button:has-text("ì‹œì‘í•˜ê¸°")');
  await expect(page).toHaveURL('/expected');
});
\`\`\`

## ğŸ¯ dhacle.com í…ŒìŠ¤íŠ¸
- URL: https://dhacle.com
- í…ŒìŠ¤íŠ¸ ê³„ì •: glemfkcl@naver.com / dhfl9909
- ë¡œê·¸ì¸: ì¹´ì¹´ì˜¤ ë²„íŠ¼ í´ë¦­ í›„ 1ë¶„ ëŒ€ê¸°

## âœ… í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸: 80% ì´ìƒ
- í†µí•© í…ŒìŠ¤íŠ¸: 70% ì´ìƒ
- E2E í•µì‹¬ í”Œë¡œìš°: 100%

## ğŸ“‹ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹
\`\`\`bash
npm run test          # Watch ëª¨ë“œ
npm run test:coverage # ì»¤ë²„ë¦¬ì§€ í™•ì¸
npm run e2e           # E2E í…ŒìŠ¤íŠ¸
\`\`\`
```

### Step 13: ë‚´ìš© ê²€ì¦ ë° ì»¤ë°‹
```bash
# ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
node scripts/verify-claude-migration.js

# ë‚´ìš© ë¹„êµ
diff -r CLAUDE.md.backup.* ./**/CLAUDE.md | wc -l

# ì„±ê³µ ì‹œ ì»¤ë°‹
git add -A
git commit -m "feat: CLAUDE.md ë¶„ì‚° ì‹œìŠ¤í…œ Phase 2 - í´ë”ë³„ ìµœì í™” ì™„ë£Œ

- 14ê°œ í´ë”ë³„ CLAUDE.md ìƒì„± (React Query, env.ts ì¶”ê°€)
- í´ë”ë³„ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì ìš©
- ì¤‘ë³µ ì œê±° ë° ê´€ë ¨ì„± ìµœì í™”
- ìƒí˜¸ ì°¸ì¡° ì‹œìŠ¤í…œ êµ¬ì¶•"
```

## ğŸ“‹ QA í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ì •ìƒ í”Œë¡œìš°
1. ê° í´ë”ë³„ CLAUDE.mdê°€ ìƒì„±ë˜ì—ˆëŠ”ê°€?
2. ì›ë³¸ ë‚´ìš©ì´ 100% ë³´ì¡´ë˜ì—ˆëŠ”ê°€?
3. í´ë”ë³„ íŠ¹í™” ë‚´ìš©ì´ ì¶”ê°€ë˜ì—ˆëŠ”ê°€?
4. ì¤‘ë³µì´ ì œê±°ë˜ì—ˆëŠ”ê°€?

### ì„±ëŠ¥ ì¸¡ì •
- ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ: 1,111ì¤„ â†’ 100-200ì¤„ (82% ê°ì†Œ)
- í† í° ì‚¬ìš©ëŸ‰: ~10K â†’ ~2K (80% ê°ì†Œ)
- ê·œì¹™ ê²€ìƒ‰ ì‹œê°„: 2-3ë¶„ â†’ ì¦‰ì‹œ (95% ë‹¨ì¶•)

## âœ… Phase ì™„ë£Œ ì¡°ê±´ (ê¸°ëŠ¥ ì‘ë™ í•„ìˆ˜)
- [ ] **14ê°œ í´ë”ë³„ CLAUDE.md ìƒì„±** - ëª¨ë“  íŒŒì¼ ì¡´ì¬
- [ ] **ì›ë³¸ ë‚´ìš© 100% ë³´ì¡´** - ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ í†µê³¼
- [ ] **í´ë”ë³„ ìµœì í™” ì™„ë£Œ** - ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì ìš©
- [ ] **ì¤‘ë³µ ì œê±° ì™„ë£Œ** - ì¤‘ë³µ ë‚´ìš© 0ê°œ
- [ ] **ìƒí˜¸ ì°¸ì¡° êµ¬ì¶•** - ë„¤ë¹„ê²Œì´ì…˜ ë™ì‘
- [ ] **ì»¤ë°‹ ì™„ë£Œ** - Git íˆìŠ¤í† ë¦¬ ê¸°ë¡

## ğŸ”„ ë¡¤ë°± ì ˆì°¨
```bash
# Phase 2 ë¡¤ë°±
rm -f src/**/CLAUDE.md scripts/CLAUDE.md docs/CLAUDE.md
git checkout HEAD~1 CLAUDE.md
git checkout HEAD~1 -- .
```

## â†’ ë‹¤ìŒ Phase
- **íŒŒì¼**: PHASE_3_DETECTION_SYSTEM.md
- **ì„ í–‰ ì¡°ê±´**: Phase 2ì˜ ëª¨ë“  ì™„ë£Œ ì¡°ê±´ ì¶©ì¡±
- **ì£¼ìš” ì‘ì—…**: ì‹¤ì‹œê°„ ê·œì¹™ ìœ„ë°˜ ê°ì§€ ì‹œìŠ¤í…œ êµ¬í˜„