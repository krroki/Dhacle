# YouTube Lens 대시보드 개선 - 구현 지시서 개요

## 📋 프로젝트 요약

### 목표
현재 YouTube Lens의 기존 대시보드를 **허용된 채널 리스트 기반 일일 조회수 증가분(Δ) 랭킹 대시보드**로 교체

### 핵심 원칙
- **재사용 우선**: 기존 코드/컴포넌트 최대한 활용
- **충돌 방지**: 대시보드 외 기능은 그대로 유지
- **표기 규정**: 모든 화면에 7필드 표시, 숫자는 "천/만" 포맷
- **보안**: 승인된 채널만 노출 (RLS)

### 주요 제약사항
1. **전체 유튜브 전수 탐색 금지** - 허용 리스트만
2. **OAuth/Analytics 미사용** - YouTube Data API v3 공개 데이터만
3. **Shorts 판별** = 길이(≤60s) + 키워드 + 썸네일 세로비(≥1) + 관리자 오버라이드
4. **일 1회 배치** (옵션 6/12h)
5. **30일 롤링 삭제** 정책 준수
6. **관리자 키 vs 사용자 키 분리**
   - 통계/집계/랭킹 → 관리자 API 키
   - 검색 기능(기존) → 사용자 API 키

## 📂 구현 Phase 구조

```
docs/youtube-lens-implementation/
├── 00-overview.md           (이 문서)
├── phase-0-audit.md         
├── phase-1-mvp-core.md      
├── phase-2-shorts-keywords.md
└── phase-3-quality.md       
```

## 🎯 필수 7필드 표기 (전면 적용)

모든 테이블/카드/드로어/모달에 아래 7개 필드 표시:
1. **채널명**
2. **구독자수** 
3. **일일 조회수** (전일 Δ)
4. **총 조회수**
5. **카테고리**
6. **세부카테고리**
7. **형식** (쇼츠/롱폼/라이브)

## 🔢 숫자 포맷 규칙

- **천/만** 표기만 사용 (k/m 금지)
- 예: 1.2천, 12.3만, 1,234.5만
- 유틸 함수: `formatNumberKo()`

## 🗓️ 타임라인

- **Phase 0**: 1~2주 - 코드 감사 & 연구 설계
- **Phase 1**: 2~3주 - MVP 코어 (Δ 집계, 승인 게이트, 대시보드)
- **Phase 2**: 2~3주 - Shorts/키워드/카테고리, 검색, 알림
- **Phase 3**: 1~3주 - 품질/성능/UX 고도화

## ⚠️ 중요 사항

1. **기존 기능 유지**
   - 인기 Shorts, 채널 폴더, 컬렉션, 검색, 즐겨찾기, 알림 설정은 그대로
   - 대시보드 탭 내용만 교체

2. **API 키 정책**
   - 새로운 통계 기능: `YT_ADMIN_KEY` 환경변수 사용
   - 기존 검색 기능: 사용자 개별 API 키 유지

3. **데이터베이스**
   - 새 테이블 추가 필요 (channels, snapshots, deltas 등)
   - 기존 테이블과 충돌 없도록 prefix 사용 고려

## 📊 새 대시보드 구성 (6블록)

1. **카테고리 점유율** - 승인 채널의 카테고리별 분포
2. **급상승 키워드** - 전일 상위 영상 제목/설명 기반
3. **신흥 채널** - 신규 진입 채널
4. **Top 쇼츠** - 전일 Δ 상위 영상 샘플
5. **팔로우 채널** - 사용자 팔로우 채널 업데이트
6. **아이디어 보드** - 저장한 아이디어 미리보기

## 🚀 다음 단계

Phase 0 문서를 확인하여 구현을 시작하세요.